SUB_CLEAR_MANY_UNK: ; 17:0000, 0x02E000
    LDA #$00
    STA CONTROL_ACCUMULATED?[2] ; Clear CTRL's.
    STA CONTROL_ACCUMULATED?+1
    STA R_**:$0052 ; Clear tons more.
    STA R_**:$0059
    STA R_**:$0049
    STA R_**:$004A
    STA R_**:$004B
    STA R_**:$004C
    STA R_**:$004D
    TAX ; X = 0
INDEX_NONZERO: ; 17:0015, 0x02E015
    STA STREAM_INDEXES_ARR_UNK[24],X ; Clear arr.
    INX ; Index++
    BNE INDEX_NONZERO ; != 0, goto.
    LDX #$1F ; Seed index.
VAL_POSITIVE: ; 17:001D, 0x02E01D
    STA CHARACTER_NAMES_ARR[8],X ; Clear.
    DEX ; Index--
    BPL VAL_POSITIVE ; Positive, goto.
    LDA #$00
    STA SCRIPT_INDEX_53_UNK ; Clear ??
    LDX #$00 ; Reset index.
VAL_NE_0x4: ; 17:0029, 0x02E029
    TXA ; X index to A.
    PHA ; Save index to stack.
    LDA CURRENT_SAVE_MANIPULATION_PAGE+8,X ; Load.
    BEQ VAL_EQ_0x00 ; == 0, goto.
    JSR SUB _TODO_PTR_AND_ARRS_IDFK ; Do ??
    CLC ; Prep add.
    LDA SCRIPT_INDEX_53_UNK ; Load val.
    ADC #$20 ; += 0x20
    STA SCRIPT_INDEX_53_UNK ; Store back.
VAL_EQ_0x00: ; 17:003A, 0x02E03A
    PLA ; Pull stack.
    TAX ; To X.
    INX ; ++
    CPX #$04 ; If _ #$04
    BNE VAL_NE_0x4 ; != 0, goto.
    JSR LIB_VAL_TO_DECIMAL_AND_FILE? ; Do.
    LDA #$80
    STA SCRIPT_INDEX_53_UNK ; Set ?
    LDY #$00 ; Stream index.
STREAM_NE_0x8: ; 17:004A, 0x02E04A
    LDA [FPTR_5C_UNK[2]],Y ; Move from file.
    STA MISC_USE_A
    INY ; Stream++
    LDA [FPTR_5C_UNK[2]],Y
    STA MISC_USE_B
    INY ; Stream++
    TYA ; Stream to A.
    PHA ; Save it.
    LDA MISC_USE_A ; Load moved.
    CMP #$FF ; If _ #$FF
    BEQ VAL_EQ_0xFF ; ==, goto.
    JSR SUB_UNK_PTRS_ARR_UNK ; Do ??
VAL_EQ_0xFF: ; 17:005F, 0x02E05F
    CLC ; Prep add.
    LDA SCRIPT_INDEX_53_UNK ; Load.
    ADC #$20 ; += 0x20
    STA SCRIPT_INDEX_53_UNK ; Store result.
    PLA ; Pull A.
    TAY ; Back to stream.
    CPY #$08 ; If _ #$08
    BNE STREAM_NE_0x8 ; !=, goto.
    LDA [FPTR_5C_UNK[2]],Y ; Load from stream.
    AND #$E0 ; Keep 1110.0000
    LDX #$05 ; Shift count.
SHIFT_LOOP: ; 17:0072, 0x02E072
    LSR A ; >> 1, /2.
    DEX ; X--
    BNE SHIFT_LOOP ; != 0, loop shift.
    STA 56_THING_NAME_SIZE ; Store to. Not name size here.
    LDA [FPTR_5C_UNK[2]],Y ; Load from file.
    AND #$1F ; Keep 0001.1111
    STA FLAG_SPRITE_OFF_SCREEN_UNK ; Store to.
    INY ; Stream++
    LDA [FPTR_5C_UNK[2]],Y ; Load from file.
    AND #$0F ; Keep lower.
    STA MISC_USE_A ; Store to.
    LDA #$00 ; Seed clear.
    LDX #$05 ; Shift count.
COUNT_NONZERO: ; 17:0089, 0x02E089
    ASL MISC_USE_A ; << 1, *2.
    ROL A ; Into A.
    DEX ; Count--
    BNE COUNT_NONZERO ; != 0, loop more shifts.
    STA MISC_USE_B ; Store result.
    CLC ; Prep add.
    LDA #$81 ; Load base. TODO: Base/range.
    ADC MISC_USE_A ; Add with.
    STA MISC_USE_A ; Store result.
    LDA #$8E ; Load base.
    ADC MISC_USE_B ; Add with val.
    STA MISC_USE_B ; Store result.
    JSR ENGINE_SET_MAPPER_R6_TO_0x00 ; Do.
    JSR ENGINE_SET_PALETTE_AND_QUEUE_UPLOAD ; Do.
    JSR ENGINE_SET_MAPPER_R6_TO_0x16 ; Set R6 to 0x16.
    LDX #$23
    LDY #$C0 ; PPU PTR, attributes.
    JSR PPU_PACKET_SET_VAL_0xFF_COUNT_0x40_PPU_ADDR_XY ; Clear attrs.
    LDX #$2B
    LDY #$C0
    JSR PPU_PACKET_SET_VAL_0xFF_COUNT_0x40_PPU_ADDR_XY ; For both.
    JSR 1F:15E5 ; Do ??
    LDA #$00
    STA R_**:$005B ; Clear ??
    LDA #$80
    STA SCRIPT_INDEX_53_UNK ; Set ??
LOOP_CC: ; 17:00C0, 0x02E0C0
    LDX SCRIPT_INDEX_53_UNK ; Index from.
    LDA STREAM_INDEXES_ARR_UNK[24],X ; Load from arr.
    BEQ INDEX_EQ_0x00 ; == 0, goto.
    JSR SUB_IDFK ; Nonzero, do.
INDEX_EQ_0x00: ; 17:00CA, 0x02E0CA
    INC R_**:$005B ; ++ ??
    CLC ; Prep add.
    LDA SCRIPT_INDEX_53_UNK ; Load ??
    ADC #$20 ; += 0x20
    STA SCRIPT_INDEX_53_UNK ; Store back.
    BCC LOOP_CC ; No overflow, goto.
    LDY #$00 ; Clear index.
    LDX #$00 ; Clear count.
X_NE_0x8: ; 17:00D9, 0x02E0D9
    LDA CHARACTER_NAMES_ARR[8],Y ; Load from Y.
    INY ; ++
    ORA CHARACTER_NAMES_ARR[8],Y ; Combine with other.
    STA MISC_USE_A ; Store to.
    INY ; ++
    LDA CHARACTER_NAMES_ARR[8],Y ; Load from Y.
    INY ; ++
    ORA CHARACTER_NAMES_ARR[8],Y ; Combine with other.
    ASL A ; << 2, *4.
    ASL A
    ORA MISC_USE_A ; Combine with other.
    STA MISC_USE_A ; Store to.
    ASL A ; << 4, *16.
    ASL A
    ASL A
    ASL A
    ORA MISC_USE_A ; Combine with.
    STA CHARACTER_NAMES_ARR[8],X ; Store to X.
    INY ; Y++
    INX ; X++
    CPX #$08 ; If _ #$08
    BNE X_NE_0x8 ; != 0, loop.
    JSR ENGINE_SETTLE_ALL_UPDATES? ; Settle engine.
    LDA #$05
    STA NMI_PPU_CMD_PACKETS_BUF[64] ; Make packet, +1 unique.
    LDA #$10
    STA NMI_PPU_CMD_PACKETS_BUF+1 ; Set count, 0x1 groups of 0x8
    LDY #$00 ; Array index.
    LDX #$04 ; Update buf index.
ARR_LT_0x8: ; 17:0110, 0x02E110
    LDA CHARACTER_NAMES_ARR[8],Y ; Move from array.
    STA NMI_PPU_CMD_PACKETS_BUF[64],X ; To update buf.
    STA NMI_PPU_CMD_PACKETS_BUF+8,X ; Making 2 packets.
    INY ; Indexes++
    INX
    CPY #$08 ; If _ #$08
    BNE ARR_LT_0x8 ; !=, goto.
    LDA #$00
    STA NMI_PPU_CMD_PACKETS_BUF+8,X ; EOF for packet A.
    LDA #$80
    STA NMI_FLAG_E5_TODO ; Set flag to do.
    LDA #$23
    STA NMI_PPU_CMD_PACKETS_BUF+2 ; Set addr, $23D8, attrs.
    LDA #$D8
    STA NMI_PPU_CMD_PACKETS_BUF+3
    LDA #$00
    STA NMI_PPU_CMD_PACKETS_INDEX ; Clear TODO better.
    LDA #$00
    STA STREAM_REPLACE_COUNT? ; Clear TODO better.
    STA FLAG_UNK_48 ; Clear flag ??
    LDX #$80 ; Seed ??
INDEX_NONZERO_LOOP: ; 17:013E, 0x02E13E
    TXA ; X to A.
    PHA ; Save seeded.
    LDY #$04 ; Index ??
COUNT_NONZERO: ; 17:0142, 0x02E142
    LDA STREAM_INDEXES_ARR_UNK+4,X ; Load ??
    AND #$03 ; Keep lower.
    STA STREAM_INDEXES_ARR_UNK+4,X ; Store back.
    INX ; Index += 2
    INX
    DEY ; Count--
    BNE COUNT_NONZERO ; != 0, loop.
    PLA ; Pull pushed.
    CLC ; Pprep add.
    ADC #$20 ; Add val.
    TAX ; To X.
    BNE INDEX_NONZERO_LOOP ; != 0, goto.
    LDX #$00 ; Seed val stored. ??
    LDA 56_THING_NAME_SIZE ; Load ??
    CMP #$01 ; If _ #$01
    BNE A_NE_0x1 ; !=, goto.
    LDX #$04 ; Val stored.
    LDA #$FF
    STA **:$0683 ; Set ??
    STA **:$0684
    LDA #$00
    STA STREAM_PTRS_ARR_UNK+8 ; Clear ??
    STA STREAM_PTRS_ARR_UNK+40
    STA **:$0660 ; Clear ??
A_NE_0x1: ; 17:0173, 0x02E173
    STX R_**:$005B ; X to.
    LDA FLAG_UNK_23 ; Load ??
    BEQ VAL_EQ_0x00 ; == 0, goto.
    LDY #$00 ; Index reset.
    STY 56_THING_NAME_SIZE ; Clear ??
NO_OVERFLOW_LOOP: ; 17:017D, 0x02E17D
    LDA STREAM_PTRS_ARR_UNK+6,Y ; Load.
    ORA #$04 ; Set.
    STA STREAM_PTRS_ARR_UNK+6,Y ; Store back.
    TYA ; To A.
    CLC ; Prep add.
    ADC #$20 ; Add ??
    TAY ; To Y index.
    BPL NO_OVERFLOW_LOOP ; Positive, goto.
VAL_EQ_0x00: ; 17:018C, 0x02E18C
    LDA 56_THING_NAME_SIZE ; Load ??
    CMP #$05 ; If _ #$05
    BNE VAL_NONZERO ; != 0, goto.
    LDA #$96
    STA 57_INDEX_UNK ; Set ??
    LDA STREAM_INDEXES_ARR_UNK+12 ; Move ??
    STA **:$068C
VAL_NONZERO: ; 17:019C, 0x02E19C
    LDX #$14
    JSR ENGINE_WAIT_X_TIMES_UNK ; Wait.
    JSR LIB_SETUP_RAM_JMP_ABS ; Setup.
    LDA #$00 ; Seed ??
    JSR LIB_SUB_TODO ; Do a lot with state and updates/restore, special.
    JSR SUB_TODO
    BCS RET_CS ; CS, goto.
    LDX #$14
    JSR ENGINE_WAIT_X_TIMES_UNK
    LDA #$07
    JSR LIB_SUB_TODO
    LDA #$00
    STA R_**:$0052
    JSR 1F:0CFF
    JSR CLEAR_FLAG_OFFSCREEN
    JSR $A50A
    JSR SET_FLAG_OFFSCREEN
    LDA #$03
    JSR LIB_SUB_TODO
    JSR 1F:0CFC
    JMP $A1A4
RET_CS: ; 17:01D3, 0x02E1D3
    JSR RAM_JMP_DISABLE?
    LDA #$00
    STA CONTROL_ACCUMULATED?[2]
    STA CONTROL_ACCUMULATED?+1
    RTS
SUB _TODO_PTR_AND_ARRS_IDFK: ; 17:01DD, 0x02E1DD
    STA MISC_USE_C
    TAX
    LDA #$00
    STA MISC_USE_A
    LDA #$74
    STA MISC_USE_B
    CLC
    LDA MISC_USE_A
    ADC #$40
    STA MISC_USE_A
    LDA MISC_USE_B
    ADC #$00
    STA MISC_USE_B
    DEX
    BNE 17:01E8
    LDY #$01
    LDX SCRIPT_INDEX_53_UNK
    LDA [MISC_USE_A],Y
    STA STREAM_INDEXES_ARR_UNK+1,X
    INY
    INX
    CPY #$10
    BNE 17:01FC
    LDY #$14
    LDX SCRIPT_INDEX_53_UNK
    LDA [MISC_USE_A],Y
    STA STREAM_INDEXES_ARR_UNK+3,X
    INX
    INY
    CPY #$18
    BNE 17:020B
    LDX SCRIPT_INDEX_53_UNK
    LDA #$FF
    STA STREAM_INDEXES_ARR_UNK[24],X
    LDA MISC_USE_C
    STA STREAM_INDEXES_ARR_UNK+17,X
    LDA MISC_USE_A
    STA STREAM_PTRS_ARR_UNK[48],X
    LDA MISC_USE_B
    STA STREAM_PTRS_ARR_UNK+1,X
    RTS
SUB_UNK_PTRS_ARR_UNK: ; 17:022D, 0x02E22D
    LDX SCRIPT_INDEX_53_UNK ; X from.
    LDA MISC_USE_B ; Load ??
    ASL A ; << 2, *4.
    ASL A
    STA STREAM_PTRS_ARR_UNK+2,X ; A to.
    LDA MISC_USE_A ; Move from 0x60 to 0x62
    STA MISC_USE_C
    LDA #$00 ; Init.
    LDX #$05 ; Shifts to do.
X_NONZERO: ; 17:023E, 0x02E23E
    ASL MISC_USE_C ; << 1 var.
    ROL A ; Into A.
    DEX ; X--
    BNE X_NONZERO ; != 0, goto.
    STA ENGINE_TO_DECIMAL_INDEX_POSITION ; Store to.
    CLC ; Prep add.
    LDA #$00
    ADC MISC_USE_C ; += val.
    STA MISC_USE_C ; Store result, same.
    LDA #$80 ; Val adding.
    ADC ENGINE_TO_DECIMAL_INDEX_POSITION ; += val.
    STA ENGINE_TO_DECIMAL_INDEX_POSITION ; Store result.
    LDY #$01 ; Stream set.
    LDX SCRIPT_INDEX_53_UNK ; Load index.
STREAM_NE_0x18: ; 17:0257, 0x02E257
    LDA [MISC_USE_C],Y ; Load from file 62
    STA STREAM_INDEXES_ARR_UNK+1,X ; Store to arr.
    INY ; Stream++
    INX ; Index++
    CPY #$18 ; If _ #$18
    BNE STREAM_NE_0x18 ; !=, goto.
    LDX SCRIPT_INDEX_53_UNK ; X from.
    LDY FLAG_UNK_48 ; Y from.
    INY ; Y++
    TYA ; To A.
    STA STREAM_INDEXES_ARR_UNK[24],X ; Store to X index.
    LDA MISC_USE_C ; Move to arr.
    STA STREAM_PTRS_ARR_UNK[48],X
    LDA ENGINE_TO_DECIMAL_INDEX_POSITION ; Move both.
    STA STREAM_PTRS_ARR_UNK+1,X
    LDY #$5E ; Val ??
    LDA MISC_USE_B ; Load ??
    BPL VAL_POSITIVE ; Positive, goto.
    LDA STREAM_PTRS_ARR_UNK+6,X ; Load ??
    ORA #$01 ; Set bit.
    STA STREAM_PTRS_ARR_UNK+6,X ; Store to.
    LDY #$00 ; Stream reset.
VAL_POSITIVE: ; 17:0285, 0x02E285
    TYA ; Val to A.
    STA STREAM_PTRS_ARR_UNK+5,X ; Store val.
    RTS ; Leave.
SUB_IDFK: ; 17:028A, 0x02E28A
    LDA STREAM_PTRS_ARR_UNK+6,X
    AND #$01
    BEQ 17:0296
    LDA #$00
    STA STREAM_INDEXES_ARR_UNK[24],X
    LDA STREAM_PTRS_ARR_UNK+2,X
    ORA R_**:$005B
    STA STREAM_PTRS_ARR_UNK+2,X
    LDA STREAM_INDEXES_ARR_UNK+4,X
    AND #$F0
    LSR A
    LSR A
    LSR A
    TAY
    LDA $960A,Y
    STA MISC_USE_A
    LDA $960B,Y
    STA MISC_USE_B
    LDA STREAM_INDEXES_ARR_UNK+8,X
    AND #$E0
    LSR A
    LSR A
    LSR A
    LSR A
    LSR A
    STA ALT_STUFF_INDEX?
    LDY #$00
    LDA [MISC_USE_A],Y
    STA MISC_USE_C
    INY
    LDA [MISC_USE_A],Y
    STA ENGINE_TO_DECIMAL_INDEX_POSITION
    INY
    SEC
    LDA [MISC_USE_A],Y
    SBC ALT_STUFF_INDEX?
    TAY
    INY
    LDA #$E0
    CLC
    ADC #$20
    DEY
    BNE 17:02D2
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    LDA FLAG_SPRITE_OFF_SCREEN_UNK
    ASL A
    ASL A
    ADC R_**:$005B
    TAY
    LDA $8F40,Y
    STA SAVE_GAME_MOD_PAGE_PTR+1
    LDA STREAM_INDEXES_ARR_UNK+4,X
    AND #$0C
    LSR A
    LSR A
    LDY SAVE_GAME_MOD_PAGE_PTR+1
    LDX #$00
    STA CHARACTER_NAMES_ARR[8],Y
    INY
    INX
    CPX ENGINE_TO_DECIMAL_INDEX_POSITION
    BNE 17:02F1
    CLC
    LDA SAVE_GAME_MOD_PAGE_PTR+1
    ADC SAVE_GAME_MOD_PAGE_PTR[2]
    ADC #$80
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    LDA #$00
    ADC #$21
    STA SAVE_GAME_MOD_PAGE_PTR+1
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    AND #$E0
    STA ARR_BITS_TO_UNK[8]
    LDA SAVE_GAME_MOD_PAGE_PTR+1
    AND #$03
    LSR A
    ROR ARR_BITS_TO_UNK[8]
    LSR A
    ROR ARR_BITS_TO_UNK[8]
    SEC
    LDA ARR_BITS_TO_UNK[8]
    SBC #$19
    STA ARR_BITS_TO_UNK[8]
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    ASL A
    ASL A
    ASL A
    SEC
    SBC #$10
    STA ARR_BITS_TO_UNK+1
    LDX R_**:$005B
    INX
    LDA #$C0
    CLC
    ADC #$40
    DEX
    BNE 17:032F
    STA ALT_STUFF_INDEX?
    LDY #$02
    JSR ENGINE_SETTLE_ALL_UPDATES?
    LDX #$00
    LDA #$05
    STA NMI_PPU_CMD_PACKETS_BUF[64],X
    INX
    LDA ENGINE_TO_DECIMAL_INDEX_POSITION
    STA NMI_PPU_CMD_PACKETS_BUF[64],X
    STA ALT_COUNT_UNK
    INX
    LDA SAVE_GAME_MOD_PAGE_PTR+1
    STA NMI_PPU_CMD_PACKETS_BUF[64],X
    INX
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    STA NMI_PPU_CMD_PACKETS_BUF[64],X
    INY
    LDA [MISC_USE_A],Y
    CLC
    ADC ALT_STUFF_INDEX?
    INX
    STA NMI_PPU_CMD_PACKETS_BUF[64],X
    DEC ALT_COUNT_UNK
    BNE 17:0357
    LDA #$00
    INX
    STA NMI_PPU_CMD_PACKETS_BUF[64],X
    CLC
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    ADC #$20
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    LDA SAVE_GAME_MOD_PAGE_PTR+1
    ADC #$00
    STA SAVE_GAME_MOD_PAGE_PTR+1
    LDA #$00
    STA NMI_PPU_CMD_PACKETS_INDEX
    LDA #$80
    STA NMI_FLAG_E5_TODO
    DEC MISC_USE_C
    BNE 17:0339
    LDX SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+6,X
    AND #$FC
    BEQ 17:03D1
    LSR A
    LSR A
    STA MISC_USE_A
    ASL A
    ADC MISC_USE_A
    CLC
    ADC #$C8
    STA MISC_USE_A
    LDA #$00
    ADC #$97
    STA MISC_USE_B
    LDY #$00
    LDA [MISC_USE_A],Y
    STA STREAM_PTRS_ARR_UNK+4,X
    LDA R_**:$005B
    ASL A
    ASL A
    ASL A
    TAX
    LDA #$00
    STA R_**:$0300,X
    STA R_**:$0301,X
    STA R_**:$0304,X
    STA R_**:$0305,X
    LDA ARR_BITS_TO_UNK+1
    STA R_**:$0302,X
    LDA ARR_BITS_TO_UNK[8]
    STA R_**:$0303,X
    LDY #$01
    LDA [MISC_USE_A],Y
    STA R_**:$0306,X
    INY
    LDA [MISC_USE_A],Y
    STA R_**:$0307,X
    RTS
PPU_PACKET_SET_VAL_0xFF_COUNT_0x40_PPU_ADDR_XY: ; 17:03D2, 0x02E3D2
    JSR ENGINE_SETTLE_ALL_UPDATES? ; Settle.
    STX NMI_PPU_CMD_PACKETS_BUF+2
    STY NMI_PPU_CMD_PACKETS_BUF+3
    LDA #$08 ; Type, single byte count times.
    STA NMI_PPU_CMD_PACKETS_BUF[64] ; Store type.
    LDA #$40 ; Count.
    STA NMI_PPU_CMD_PACKETS_BUF+1
    LDA #$FF ; Byte, 0xFF.
    STA NMI_PPU_CMD_PACKETS_BUF+4
    LDA #$00 ; EOF.
    STA NMI_PPU_CMD_PACKETS_BUF+5
    LDA #$80 ; Flag set.
    STA NMI_FLAG_E5_TODO
    LDA #$00 ; Reset index for trigger.
    STA NMI_PPU_CMD_PACKETS_INDEX
    RTS ; Leave.
LIB_EXIT_IDFK: ; 17:03F8, 0x02E3F8
    CMP #$00
    BEQ L_17:0478
    PHA
    JSR L_17:04BB
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    PLA
    CMP #$FF
    BNE L_17:042D
    SEC
    LDY R_**:$0054
    LDA STREAM_PTRS_ARR_UNK[48],Y
    SBC #$00
    STA FPTR_PACKET_CREATION[2]
    LDA STREAM_PTRS_ARR_UNK+1,Y
    SBC #$80
    ASL FPTR_PACKET_CREATION[2]
    ROL A
    ASL FPTR_PACKET_CREATION[2]
    ROL A
    ASL FPTR_PACKET_CREATION[2]
    ROL A
    CLC
    ADC #$14
    STA FPTR_PACKET_CREATION[2]
    LDA #$00
    ADC #$05
    STA ARG_IDFK
    BCC L_17:044A
L_17:042D: ; 17:042D, 0x02E42D
    LDY #$00
    STY MISC_USE_B
    ASL A
    ROL MISC_USE_B
    CLC
    ADC #$81
    STA MISC_USE_A
    LDA MISC_USE_B
    ADC #$90
    STA MISC_USE_B
    LDY #$00
    LDA [MISC_USE_A],Y
    STA FPTR_PACKET_CREATION[2]
    INY
    LDA [MISC_USE_A],Y
    STA ARG_IDFK
L_17:044A: ; 17:044A, 0x02E44A
    JSR LIB_READING_PPU_ROM_$0110_HELPER
    LDA FPTR_PACKET_CREATION[2]
    STA R_**:$0050
    LDA FPTR_PACKET_CREATION+1
    STA R_**:$0051
    LDA R_**:$0052
    CMP #$03
    BNE L_17:0462
    LDX #$03
    JSR L_1E:07C1
    DEC R_**:$0052
L_17:0462: ; 17:0462, 0x02E462
    JSR $A479
    CMP #$02
    BEQ L_17:046F
    INC R_**:$0052
    CMP #$00
    BNE L_17:044A
L_17:046F: ; 17:046F, 0x02E46F
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    LDX CURRENT_SAVE_MANIPULATION_PAGE+24
    JSR ENGINE_WAIT_X_TIMES_UNK
L_17:0478: ; 17:0478, 0x02E478
    RTS
    LDA R_**:$0052
    ASL A
    ADC #$03
    STA PACKET_YPOS_COORD?
    LDY #$00
    LDA [R_**:$0050],Y
    CMP #$03
    BNE 17:049D
    LDA #$0F
    STA PACKET_HPOS_COORD?
    JSR 1F:15C2
    INC R_**:$0050
    BNE 17:0495
    INC R_**:$0051
    LDY #$00
    LDA [R_**:$0050],Y
    CMP #$02
    BEQ 17:04BA
    LDA #$16
    STA R_**:$0070
    LDA #$05
    STA PACKET_HPOS_COORD?
    JSR ENGINE_SETTLE_ALL_UPDATES?
    LDA R_**:$0050
    STA FPTR_PACKET_CREATION[2]
    LDA R_**:$0051
    STA FPTR_PACKET_CREATION+1
    JSR RTN_SETTLE_UPDATE_TODO
    LDA #$01
    JSR L_1E:07AF
    LDA ENGINE_SCRIPT_SWITCH_VAL?
    RTS
L_17:04BB: ; 17:04BB, 0x02E4BB
    LDA #$21
    STA CHARACTER_NAMES_ARR[8]
    STA **:$0588
    LDA #$80
    STA MISC_USE_C
    LDA #$05
    STA ENGINE_TO_DECIMAL_INDEX_POSITION
    LDX SCRIPT_INDEX_53_UNK
    JSR $A4DA
    LDA #$88
    STA MISC_USE_C
    LDA #$05
    STA ENGINE_TO_DECIMAL_INDEX_POSITION
    LDX R_**:$0054
    LDA STREAM_PTRS_ARR_UNK[48],X
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,X
    STA MISC_USE_B
    LDY #$18
    LDA [MISC_USE_A],Y
    PHA
    INY
    LDA [MISC_USE_A],Y
    LDY #$02
    STA [MISC_USE_C],Y
    PLA
    DEY
    STA [MISC_USE_C],Y
    INY
    INY
    LDA STREAM_PTRS_ARR_UNK+2,X
    AND #$1C
    BEQ 17:0505
    LSR A
    LSR A
    CLC
    ADC #$40
    STA [MISC_USE_C],Y
    INY
    LDA #$00
    STA [MISC_USE_C],Y
    RTS
    LDA #$00
    STA SCRIPT_INDEX_53_UNK
    LDY SCRIPT_INDEX_53_UNK
    LDA #$00
    STA STREAM_PTRS_ARR_UNK+5,Y
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$F7
    STA STREAM_PTRS_ARR_UNK+6,Y
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:0535
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$F4
    BNE 17:0535
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$20
    BNE 17:0535
    JSR $A53F
    BCS 17:050E
    CLC
    LDA SCRIPT_INDEX_53_UNK
    ADC #$20
    STA SCRIPT_INDEX_53_UNK
    BNE 17:050E
    RTS
    LDA R_**:$0059
    BNE 17:0559
    LDY SCRIPT_INDEX_53_UNK
    BMI 17:0559
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    AND #$06
    EOR #$06
    BEQ 17:0559
    JSR $A7DA
    BCS 17:0572
    LDA R_**:$0059
    BEQ 17:055C
    JSR $A573
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_PTRS_ARR_UNK+5,Y
    CMP #$53
    BEQ 17:0569
    CMP #$59
    BNE 17:0571
    LDA STREAM_PTRS_ARR_UNK+6,Y
    ORA #$08
    STA STREAM_PTRS_ARR_UNK+6,Y
    CLC
    RTS
    LDA SCRIPT_INDEX_53_UNK
    BMI 17:057A
    JMP $A57D
    JMP $A723
    LDY #$00
    STY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:0594
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    AND #$06
    EOR #$06
    BEQ 17:0594
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:059D
    TYA
    CLC
    ADC #$20
    TAY
    BPL 17:057F
    BMI 17:05A0
    JMP $A6B0
    LDY #$00
    STY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:05BC
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:05BC
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    AND #$06
    EOR #$06
    BEQ 17:05BC
    JSR L_1F:1673
    BCC 17:05C5
    TYA
    CLC
    ADC #$20
    TAY
    BPL 17:05A2
    BMI 17:05E9
    LDX #$00
    LDY #$00
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:05DB
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:05DB
    JSR L_1F:1673
    BCS 17:05DB
    INX
    STY R_**:$0054
    TYA
    CLC
    ADC #$20
    TAY
    BPL 17:05C9
    CPX #$01
    BCC 17:0611
    JMP $A623
    LDY #$00
    STY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:0604
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    AND #$06
    EOR #$06
    BEQ 17:0604
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:0604
    AND #$70
    BNE 17:060E
    TYA
    CLC
    ADC #$20
    TAY
    BPL 17:05EB
    JMP $A690
    JMP $A659
    LDA #$0C
    JSR $A6C2
    BCC 17:0622
    LDA #$0B
    JSR $A6C2
    BCC 17:0622
    JMP $A623
    RTS
    LDA #$0A
    JSR $A6C2
    BCC 17:0651
    LDA #$09
    JSR $A6C2
    BCC 17:0651
    LDA #$08
    JSR $A6C2
    BCC 17:0651
    LDY SCRIPT_INDEX_53_UNK
    JSR $BFAA
    BCS 17:05E9
    CPX #$7C
    BEQ 17:05E9
    CPX #$84
    BEQ 17:05E9
    TYA
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_INDEXES_ARR_UNK+16,Y
    TXA
    STA STREAM_PTRS_ARR_UNK+5,Y
    LDA R_**:$0054
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+4,Y
    RTS
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    TAX
    AND #$20
    BNE 17:0670
    TXA
    AND #$10
    BNE 17:0677
    TXA
    AND #$40
    BNE 17:067E
    JMP $A685
    LDA #$11
    JSR $A6C2
    BCC 17:0688
    LDA #$13
    JSR $A6C2
    BCC 17:0688
    LDA #$12
    JSR $A6C2
    BCC 17:0688
    JMP $A690
    LDA R_**:$0054
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+4,Y
    RTS
    LDY SCRIPT_INDEX_53_UNK
    LDA #$01
    STA STREAM_PTRS_ARR_UNK+5,Y
    JSR ADDS_IDFK
    AND #$E0
    ORA #$80
    TAY
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:0697
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:0697
    TYA
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+4,Y
    RTS
    LDA #$14
    JSR $A6C2
    BCC 17:06BA
    JMP $A5A0
    LDY SCRIPT_INDEX_53_UNK
    LDA R_**:$0054
    STA STREAM_PTRS_ARR_UNK+4,Y
    RTS
    STA MISC_USE_A
    JSR $A86B
    LDA MISC_USE_A
    LSR A
    LSR A
    LSR A
    TAY
    LDA MISC_USE_A
    AND #$07
    TAX
    INX
    SEC
    LDA #$00
    ROR A
    DEX
    BNE 17:06D6
    STA MISC_USE_B
    LDA [FPTR_5C_UNK[2]],Y
    AND MISC_USE_B
    BEQ 17:0721
    LDA #$00
    ASL MISC_USE_A
    ROL A
    ASL MISC_USE_A
    ROL A
    ASL MISC_USE_A
    ROL A
    STA MISC_USE_B
    CLC
    LDA MISC_USE_A
    ADC #$00
    STA MISC_USE_A
    LDA MISC_USE_B
    ADC #$9E
    STA MISC_USE_B
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDY #$05
    LDA [MISC_USE_A],Y
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+5,Y
    LDY #$07
    LDA [MISC_USE_A],Y
    STA **:$004E
    LDA #$00
    STA **:$004F
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    JSR $B1D1
    BCC 17:0721
    JSR $B1C5
    BCC 17:0721
    CLC
    RTS
    SEC
    RTS
    JSR ADDS_IDFK
    AND #$07
    CLC
    ADC SCRIPT_INDEX_53_UNK
    TAY
    LDA STREAM_INDEXES_ARR_UNK+16,Y
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+5,Y
    JSR $AC23
    JSR DATA_PAST_UNK
    .db A3
    .db A7
    .db 40
    .db A7
    .db 4A
    .db A7
    JSR $A7AB
    LDA R_**:$0054
    BPL 17:0740
    JMP $A7A3
    LDA SCRIPT_INDEX_53_UNK
    BPL 17:0796
    LDA 56_THING_NAME_SIZE
    CMP #$03
    BNE 17:0760
    LDX #$03
    LDA #$06
    JSR $A7BE
    BCS 17:07A0
    DEX
    BPL 17:0756
    LDA 56_THING_NAME_SIZE
    CMP #$04
    BNE 17:078A
    LDX #$03
    LDA #$01
    JSR $A7BE
    BCS 17:07A0
    DEX
    BPL 17:0768
    LDX #$03
    LDA #$02
    JSR $A7BE
    BCS 17:07A0
    DEX
    BPL 17:0774
    LDX #$03
    LDA #$04
    JSR $A7BE
    BCS 17:07A0
    DEX
    BPL 17:0780
    LDX #$03
    LDA #$07
    JSR $A7BE
    BCS 17:07A0
    DEX
    BPL 17:078C
    JSR $A7AB
    LDA R_**:$0054
    BMI 17:0796
    JMP $A7A3
    JMP $A7A3
    LDA R_**:$0054
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+4,Y
    RTS
    JSR ADDS_IDFK
    AND #$E0
    TAY
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:07AB
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:07AB
    STY R_**:$0054
    RTS
    CMP CURRENT_SAVE_MANIPULATION_PAGE+8,X
    BNE 17:07D8
    TXA
    ASL A
    ASL A
    ASL A
    ASL A
    ASL A
    TAY
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:07D8
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:07D8
    STY R_**:$0054
    SEC
    RTS
    CLC
    RTS
    JSR $AC06
    LDA #$02
    LDX CURRENT_SAVE_MANIPULATION_PAGE+540
    BPL 17:07E6
    LDA #$13
    JSR LIB_SUB_TODO
    JSR $A90D
    JSR DATA_PAST_UNK
    .db 02
    .db A8
    .db 14
    .db A8
    .db 47
    .db A8
    .db 7D
    .db A8
    .db 88
    .db A8
    .db BA
    .db A8
    .db BF
    .db A8
    .db E2
    .db A8
    .db E7
    .db A8
    .db 60
    LDA #$01
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+5,Y
    JSR $A962
    BCC 17:0811
    JMP $A7DD
    JMP $A801
    JSR ENGINE_SETTLE_ALL_UPDATES?
    LDA #$01
    STA R_**:$0059
    LDA #$14
    STA **:$03E6
    LDA #$97
    STA **:$03E7
    LDA #$04
    STA R_**:$03E0
    LDA #$00
    STA SPRITE_SLOT_Y_OFF_SCREEN_UNK
    STA **:$03E4
    STA **:$03E5
    LDA #$D0
    STA **:$03E2
    LDA #$47
    STA **:$03E3
    LDA #$01
    STA NMI_FLAG_E5_TODO
    CLC
    JMP $A801
    JSR $A86B
    LDA #$00
    STA MISC_USE_A
    LDY #$07
    LDA [FPTR_5C_UNK[2]],Y
    ORA MISC_USE_A
    STA MISC_USE_A
    DEY
    BNE 17:0850
    LDA MISC_USE_A
    BEQ 17:0868
    JSR $AB10
    BCS 17:0865
    JMP $A801
    JMP $A7DA
    JMP $A7DD
    LDY SCRIPT_INDEX_53_UNK
    CLC
    LDA STREAM_PTRS_ARR_UNK[48],Y
    ADC #$30
    STA FPTR_5C_UNK[2]
    LDA STREAM_PTRS_ARR_UNK+1,Y
    ADC #$00
    STA FPTR_5C_UNK+1
    RTS
    LDA #$59
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+5,Y
    CLC
    JMP $A801
    LDY SCRIPT_INDEX_53_UNK
    CLC
    LDA STREAM_PTRS_ARR_UNK[48],Y
    ADC #$20
    STA FPTR_5C_UNK[2]
    LDA STREAM_PTRS_ARR_UNK+1,Y
    ADC #$00
    STA FPTR_5C_UNK+1
    LDA #$00
    STA MISC_USE_A
    LDY #$07
    LDA [FPTR_5C_UNK[2]],Y
    ORA MISC_USE_A
    STA MISC_USE_A
    DEY
    BPL 17:089F
    LDA MISC_USE_A
    BEQ 17:08B7
    JSR $AA08
    BCS 17:08B4
    JMP $A801
    JMP $A7DA
    JMP $A7DD
    LDA #$48
    JMP $A87F
    LDA #$80
    STA R_**:$0054
    JSR $A991
    BCS 17:08DF
    LDX FPTR_UNK_84_MENU_SELECTION?[2]
    LDA **:$0591,X
    TAX
    DEX
    TXA
    STA R_**:$0054
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+4,Y
    LDA #$6F
    STA STREAM_PTRS_ARR_UNK+5,Y
    JMP $A801
    JMP $A7DD
    LDA #$1C
    JMP $A87F
    SEC
    LDA SCRIPT_INDEX_53_UNK
    BEQ 17:0909
    SBC #$20
    STA SCRIPT_INDEX_53_UNK
    TAY
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:08E7
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:08E7
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$F4
    BNE 17:08E7
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$20
    BNE 17:08E7
    SEC
    JMP $A801
    LDX #$73
    LDY #$9F
    LDA 56_THING_NAME_SIZE
    CMP #$01
    BNE 17:091E
    LDX #$83
    LDY #$9F
    JMP $A927
    LDA CURRENT_SAVE_MANIPULATION_PAGE+540
    BPL 17:0927
    LDX #$7B
    LDY #$9F
    STX FPTR_UNK_84_MENU?[2]
    STY FPTR_UNK_84_MENU?+1
    LDX #$6B
    LDY #$9F
    STX FPTR_SPRITES?[2]
    STY FPTR_SPRITES?+1
    JSR 1F:0F3F
    BIT MENU_HELPER_STATUS?
    BVS 17:0942
    LDA #$09
    JSR $A945
    LDA FPTR_UNK_84_MENU_SELECTION?[2]
    RTS
    LDA #$08
    RTS
    STA MISC_USE_A
    LDA FPTR_UNK_84_MENU_SELECTION?[2]
    LSR A
    ASL A
    CLC
    ADC PACKET_YPOS_COORD?
    STA PACKET_YPOS_COORD?
    LDA FPTR_UNK_84_MENU_SELECTION?[2]
    AND #$01
    BEQ 17:095D
    CLC
    LDA PACKET_HPOS_COORD?
    ADC MISC_USE_A
    STA PACKET_HPOS_COORD?
    LDA #$0D
    JMP LIB_SUB_TODO
    JSR $AC23
    BEQ 17:098D
    LDX #$80
    CMP #$02
    BEQ 17:096F
    LDX #$00
    STX MISC_USE_A
    LDA SCRIPT_INDEX_53_UNK
    AND #$80
    EOR MISC_USE_A
    STA R_**:$0054
    JSR $A991
    BCS 17:098F
    LDX FPTR_UNK_84_MENU_SELECTION?[2]
    LDA **:$0591,X
    TAX
    DEX
    TXA
    STA R_**:$0054
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+4,Y
    CLC
    RTS
    SEC
    RTS
    LDA #$0B
    JSR LIB_SUB_TODO
    JSR $A9B3
    LDA #$8B
    STA FPTR_SPRITES?[2]
    LDA #$9F
    STA FPTR_SPRITES?+1
    JSR ENGINE_MENU_HELPER_BEGIN?
    BIT MENU_HELPER_STATUS?
    BVS 17:09B1
    BMI 17:09AD
    JMP $A991
    LDA FPTR_UNK_84_MENU_SELECTION?[2]
    CLC
    RTS
    SEC
    RTS
    LDA #$12
    STA PACKET_YPOS_COORD?
    LDX #$00
    STX **:$0591
    STX **:$0592
    STX **:$0593
    STX **:$0594
    INX
    STX **:$0590
    LDA R_**:$0054
    PHA
    LDY #$04
    TYA
    PHA
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:09F8
    LDY R_**:$0054
    BMI 17:09E4
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    AND #$06
    EOR #$06
    BEQ 17:09F8
    INY
    TYA
    STA **:$0590,X
    INX
    TXA
    PHA
    JSR $A4BB
    LDA #$0C
    JSR LIB_SUB_TODO
    INC PACKET_YPOS_COORD?
    PLA
    TAX
    CLC
    LDA R_**:$0054
    ADC #$20
    STA R_**:$0054
    PLA
    TAY
    DEY
    BNE 17:09CE
    PLA
    STA R_**:$0054
    RTS
    LDA #$0E
    JSR LIB_SUB_TODO
    JSR $AA67
    JSR $AAE9
    BCS 17:0A65
    LDY SCRIPT_INDEX_53_UNK
    LDA FPTR_UNK_84_MENU_SELECTION?[2]
    STA STREAM_INDEXES_ARR_UNK+16,Y
    LDY FPTR_UNK_84_MENU_SELECTION?[2]
    LDA [FPTR_5C_UNK[2]],Y
    JSR $AAA4
    LDY SCRIPT_INDEX_53_UNK
    JSR $AC49
    BCS 17:0A43
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDY #$05
    LDA [MISC_USE_C],Y
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    CMP #$00
    BEQ 17:0A4C
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+5,Y
    JSR $A962
    BCS 17:0A65
    RTS
    LDX SCRIPT_INDEX_53_UNK
    JSR $A4BB
    LDX #$14
    BNE 17:0A5E
    LDX #$10
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDY #$03
    LDA [MISC_USE_C],Y
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    CMP #$00
    BEQ 17:0A5E
    LDX #$11
    TXA
    JSR LIB_SUB_TODO
    JSR SCRIPT_CTRL_WAIT_A/B_PRESSED
    SEC
    RTS
    LDY #$00
    TYA
    PHA
    AND #$01
    TAX
    LDA $9FB2,X
    STA PACKET_HPOS_COORD?
    TYA
    LSR A
    TAX
    LDA $9FB4,X
    STA PACKET_YPOS_COORD?
    LDA [FPTR_5C_UNK[2]],Y
    BEQ 17:0A9C
    JSR $AAA4
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDA #$04
    STA **:$0588
    LDY #$00
    LDA [MISC_USE_C],Y
    STA **:$0589
    INY
    LDA [MISC_USE_C],Y
    STA **:$058A
    LDA #$0F
    JSR LIB_SUB_TODO
    PLA
    TAY
    INY
    CPY #$08
    BNE 17:0A69
    RTS
    LDX #$00
    STX ENGINE_TO_DECIMAL_INDEX_POSITION
    LDX #$03
    ASL A
    ROL ENGINE_TO_DECIMAL_INDEX_POSITION
    DEX
    BNE 17:0AAA
    CLC
    ADC #$00
    STA MISC_USE_C
    LDA ENGINE_TO_DECIMAL_INDEX_POSITION
    ADC #$98
    STA ENGINE_TO_DECIMAL_INDEX_POSITION
    RTS
    CLC
    LDA STREAM_PTRS_ARR_UNK[48],Y
    ADC #$20
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,Y
    ADC #$00
    STA MISC_USE_B
    RTS
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDA #$21
    STA **:$0590
    LDY #$00
    LDA [MISC_USE_C],Y
    STA **:$0591
    INY
    LDA [MISC_USE_C],Y
    STA **:$0592
    LDA #$00
    STA **:$0593
    JMP ENGINE_SET_MAPPER_R6_TO_0x16
    LDA #$95
    STA FPTR_SPRITES?[2]
    LDA #$9F
    STA FPTR_SPRITES?+1
    LDA FPTR_5C_UNK[2]
    STA FPTR_UNK_84_MENU?[2]
    LDA FPTR_5C_UNK+1
    STA FPTR_UNK_84_MENU?+1
    JSR 1F:0F3F
    BIT MENU_HELPER_STATUS?
    BVS 17:0B0E
    BMI 17:0B05
    JMP $AAE9
    LDA #$0C
    JSR $A945
    LDA FPTR_UNK_84_MENU_SELECTION?[2]
    CLC
    RTS
    SEC
    RTS
    LDY #$01
    LDA [FPTR_5C_UNK[2]],Y
    BEQ 17:0B32
    TYA
    PHA
    LDA #$0E
    JSR LIB_SUB_TODO
    LDA #$12
    JSR LIB_SUB_TODO
    JSR $AB61
    JSR $ABC2
    PLA
    TAY
    CPX #$01
    BEQ 17:0B39
    CPX #$02
    BEQ 17:0B5F
    INY
    CPY #$08
    BEQ 17:0B10
    BNE 17:0B12
    LDY FPTR_UNK_84_MENU_SELECTION?[2]
    LDA CHARACTER_NAMES_ARR[8],Y
    JSR LIB_PTR_CREATE_UNK
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDY #$05
    LDA [MISC_USE_C],Y
    BEQ 17:0B57
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+5,Y
    PHA
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    PLA
    JMP $A962
    LDA #$10
    JSR LIB_SUB_TODO
    JSR SCRIPT_CTRL_WAIT_A/B_PRESSED
    SEC
    RTS
    TYA
    ASL A
    ASL A
    ASL A
    STA MISC_USE_A
    LDA #$80
    STA MISC_USE_B
    LDX #$00
    LDA #$00
    STA CHARACTER_NAMES_ARR[8],X
    LDA [FPTR_5C_UNK[2]],Y
    AND MISC_USE_B
    BEQ 17:0B7D
    LDA MISC_USE_A
    STA CHARACTER_NAMES_ARR[8],X
    INC MISC_USE_A
    INX
    LSR MISC_USE_B
    BCC 17:0B6D
    LDY #$00
    TYA
    PHA
    AND #$01
    TAX
    LDA $9FB2,X
    STA PACKET_HPOS_COORD?
    TYA
    LSR A
    TAX
    LDA $9FB4,X
    STA PACKET_YPOS_COORD?
    LDA CHARACTER_NAMES_ARR[8],Y
    BEQ 17:0BBA
    JSR LIB_PTR_CREATE_UNK
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDA #$04
    STA **:$0588
    LDY #$00
    LDA [MISC_USE_C],Y
    STA **:$0589
    INY
    LDA [MISC_USE_C],Y
    STA **:$058A
    LDA #$0F
    JSR LIB_SUB_TODO
    PLA
    TAY
    INY
    CPY #$08
    BNE 17:0B86
    RTS
    LDA #$A7
    STA FPTR_SPRITES?[2]
    LDA #$9F
    STA FPTR_SPRITES?+1
    JSR ENGINE_MENU_HELPER_BEGIN?
    LDA MENU_HELPER_STATUS?
    AND #$06
    BNE 17:0BE6
    LDA MENU_HELPER_STATUS?
    AND #$81
    BNE 17:0BE0
    BIT MENU_HELPER_STATUS?
    BVS 17:0BE3
    JMP $ABC2
    LDX #$00
    RTS
    LDX #$02
    RTS
    LDA #$9D
    STA FPTR_SPRITES?[2]
    LDA #$9F
    STA FPTR_SPRITES?+1
    JSR ENGINE_MENU_HELPER_BEGIN?
    LDA MENU_HELPER_STATUS?
    AND #$08
    BNE 17:0BC2
    BIT MENU_HELPER_STATUS?
    BVS 17:0C03
    BMI 17:0C00
    JMP $ABC2
    LDX #$01
    RTS
    LDX #$02
    RTS
    LDA #$0A
    JSR LIB_SUB_TODO
    JSR L_17:04BB
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDA #$00
    STA R_**:$0070
    LDA #$7A
    STA FPTR_PACKET_CREATION[2]
    LDA #$8E
    STA FPTR_PACKET_CREATION+1
    JSR ENGINE_CREATE_UPDATE_BUF_INIT_DEC?
    JMP ENGINE_SET_MAPPER_R6_TO_0x16
    PHA
    AND #$03
    TAX
    INX
    LDA #$01
    SEC
    ROR A
    ROR A
    DEX
    BNE 17:0C2B
    STA MISC_USE_A
    PLA
    LSR A
    LSR A
    TAY
    LDA $9EC7,Y
    AND MISC_USE_A
    STA MISC_USE_B
    LSR MISC_USE_A
    BCS 17:0C46
    LSR MISC_USE_B
    JMP $AC3D
    LDA MISC_USE_B
    RTS
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    TAX
    SEC
    LDA #$00
    ROL A
    DEX
    BNE 17:0C55
    STA ALT_COUNT_UNK
    LDY #$02
    LDA [MISC_USE_C],Y
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    AND ALT_COUNT_UNK
    BEQ 17:0C68
    CLC
    RTS
    SEC
    RTS
SUB_TODO: ; 17:0C6A, 0x02EC6A
    JSR SUB_UNK
    BCS EXIT_CS
    LDX #$08
L_17:0C71: ; 17:0C71, 0x02EC71
    TXA
    PHA
    JSR L_17:0CA5
    JSR L_17:0CD6
    LDA #$FF
    LDY SCRIPT_INDEX_53_UNK
    STA STREAM_PTRS_ARR_UNK+5,Y
    JSR SUB_UNK
    BCS EXIT_STACK_FIX_CS
    PLA
    TAX
    DEX
    BNE L_17:0C71
    DEC R_**:$005B
    BEQ L_17:0C93
    CLC
    RTS
EXIT_STACK_FIX_CS: ; 17:0C90, 0x02EC90
    PLA
EXIT_CS: ; 17:0C91, 0x02EC91
    SEC
    RTS
L_17:0C93: ; 17:0C93, 0x02EC93
    LDA 56_THING_NAME_SIZE
    CMP #$01
    BEQ EXIT_CS
    LDX #$64
    JSR ENGINE_WAIT_X_TIMES_UNK
    LDA #$92
    JSR LIB_EXIT_IDFK
EXIT_CS: ; 17:0CA3, 0x02ECA3
    SEC
    RTS
L_17:0CA5: ; 17:0CA5, 0x02ECA5
    LDA #$00
    STA MISC_USE_A
    STA MISC_USE_B
L_17:0CAB: ; 17:0CAB, 0x02ECAB
    LDY MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+5,Y
    CMP #$FF
    BEQ L_17:0CC8
    CMP #$5E
    BEQ L_17:0CD3
    LDA STREAM_INDEXES_ARR_UNK+12,Y
    JSR L_1F:13FD
    CMP MISC_USE_B
    BCC L_17:0CC8
    STA MISC_USE_B
    LDA MISC_USE_A
    STA MISC_USE_C
L_17:0CC8: ; 17:0CC8, 0x02ECC8
    CLC
    LDA MISC_USE_A
    ADC #$20
    STA MISC_USE_A
    BNE L_17:0CAB
    LDY MISC_USE_C
L_17:0CD3: ; 17:0CD3, 0x02ECD3
    STY SCRIPT_INDEX_53_UNK
    RTS
L_17:0CD6: ; 17:0CD6, 0x02ECD6
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BNE 17:0CE2
    LDA #$00
    JMP $ADC1
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$80
    BEQ 17:0CEE
    LDA #$00
    JMP $ADC1
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$40
    BEQ 17:0CFA
    LDA #$47
    JMP $ADC1
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$20
    BEQ 17:0D06
    LDA #$46
    JMP $ADC1
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$10
    BEQ 17:0D2B
    JSR ADDS_IDFK
    AND #$E0
    BNE 17:0D26
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$EF
    STA STREAM_INDEXES_ARR_UNK+1,Y
    STY R_**:$0054
    JSR 1F:15E5
    LDA #$8E
    JMP $ADC1
    LDA #$3C
    JMP $ADC1
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$04
    BEQ 17:0D37
    LDA #$68
    JMP $ADC1
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$02
    BEQ 17:0D4A
    LDA STREAM_PTRS_ARR_UNK+5,Y
    CMP #$76
    BEQ 17:0D4A
    LDA #$56
    JMP $ADC1
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$20
    BEQ 17:0D6A
    JSR ADDS_IDFK
    AND #$C0
    BNE 17:0D65
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$DF
    STA STREAM_PTRS_ARR_UNK+6,Y
    LDA #$8B
    JMP $ADC1
    LDA #$1C
    JMP $ADC1
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$08
    BEQ 17:0D76
    LDA #$3A
    JSR $A3F8
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_PTRS_ARR_UNK+5,Y
    LDY #$00
    STY MISC_USE_B
    ASL A
    ROL MISC_USE_B
    STA MISC_USE_A
    CLC
    LDA #$FB
    ADC MISC_USE_A
    STA MISC_USE_A
    LDA #$97
    ADC MISC_USE_B
    STA MISC_USE_B
    LDY #$00
    LDA [MISC_USE_A],Y
    STA **:$005E
    INY
    LDA [MISC_USE_A],Y
    STA **:$005F
    LDY #$00
    LDA [**:$005E],Y
    LSR A
    LSR A
    LSR A
    LSR A
    JSR DATA_PAST_UNK
    .db C4
    .db AD
    .db C9
    .db AD
    .db F1
    .db AD
    .db 5D
    .db AE
    .db 04
    .db B8
    .db EA
    .db AE
    .db 08
    .db AF
    .db 31
    .db AF
    .db 39
    .db AF
    .db 7B
    .db AF
    .db 92
    .db AF
    .db 98
    .db AF
    .db 8E
    .db AE
    .db 4C
    .db F8
    .db A3
    .db A9
    .db 01
    .db 4C
    .db E1
    .db AF
    .db A0
    .db 00
    .db B1
    .db 5E
    .db 29
    .db 0F
    .db 20
    .db AE
    .db F2
    .db EC
    .db AD
    .db ED
    .db AF
    .db F2
    .db AF
    .db FE
    .db AF
    .db 08
    .db B0
    .db 12
    .db B0
    .db 22
    .db B0
    .db 32
    .db B0
    .db 37
    .db B0
    .db 41
    .db B0
    .db 4B
    .db B0
    .db 55
    .db B0
    .db 5F
    .db B0
    .db A9
    .db 01
    .db 4C
    .db CD
    .db AF
    .db A0
    .db 01
    .db B1
    .db 5E
    LDX #$00
    STX MISC_USE_B
    LDX #$03
    ASL A
    ROL MISC_USE_B
    DEX
    BNE 17:0DFB
    CLC
    ADC #$00
    STA MISC_USE_A
    LDA MISC_USE_B
    ADC #$9E
    STA MISC_USE_B
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDY #$07
    LDA [MISC_USE_A],Y
    STA **:$004E
    LDA #$00
    STA **:$004F
    LDA #$21
    STA **:$0590
    LDY #$00
    LDA [MISC_USE_A],Y
    STA **:$0591
    INY
    LDA [MISC_USE_A],Y
    STA **:$0592
    LDA #$00
    STA **:$0593
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    LDA #$64
    JSR $A3F8
    JSR $B1C5
    BCC 17:0E53
    JSR $B1D1
    BCC 17:0E58
    JSR $B0A4
    LDA R_**:$0058
    JSR 1F:141F
    LDA #$00
    STA R_**:$0058
    LDA #$02
    JMP $AFCD
    LDA #$51
    JMP $A3F8
    LDA #$54
    JMP $A3F8
    LDY #$01
    LDA [**:$005E],Y
    JSR $AAA4
    JSR $AACC
    LDY SCRIPT_INDEX_53_UNK
    BMI 17:0E7B
    JSR ENGINE_WRAM_STATE_WRITEABLE
    LDY #$00
    LDA [**:$005E],Y
    AND #$0F
    CMP #$01
    BNE 17:0E7B
    JSR $B4E5
    LDA #$63
    JSR $A3F8
    LDA R_**:$0058
    JSR 1F:141F
    LDA #$00
    STA R_**:$0058
    LDA #$02
    JMP $AFCD
    LDY #$01
    LDA [**:$005E],Y
    JSR $AAA4
    JSR $AACC
    LDY SCRIPT_INDEX_53_UNK
    BMI 17:0EE5
    LDY #$00
    LDA [**:$005E],Y
    AND #$0F
    JSR DATA_PAST_UNK
    ???
    LDX $AEBD
    ???
    LDX 1F:0D20
    SBC [PTR_CREATE_SEED?],Y
    CPX #$D0
    ???
    JSR $B4E5
    LDA #$75
    JSR $A3F8
    JMP $AEE5
    JSR ADDS_IDFK
    AND #$E0
    BNE 17:0EE5
    JSR $B4E5
    LDA #$78
    JSR $A3F8
    JMP $AEE5
    JSR ENGINE_WRAM_STATE_WRITEABLE
    DEC CURRENT_SAVE_MANIPULATION_PAGE+31
    JSR ENGINE_WRAM_STATE_WRITE_DISABLED
    LDA CURRENT_SAVE_MANIPULATION_PAGE+31
    BNE 17:0EE5
    JSR $B4E5
    LDA #$91
    JSR $A3F8
    LDA #$02
    JMP $AFCD
    LDY #$00
    LDA [**:$005E],Y
    AND #$0F
    JSR RTN_UNK_DATA_AFTER
    ???
    ???
    ???
    LDA [NMI_FLAG_E0_TODO],Y
    LDA [R_**:$0002],Y
    ???
    ORA PPU_STATUS,X
    ???
    AND APU_DMC_ADDR,X
    ???
    LDA #$01
    JMP $AFCD
    LDY #$01
    LDA [**:$005E],Y
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    DEY
    LDA [**:$005E],Y
    AND #$0F
    JSR RTN_UNK_DATA_AFTER
    BIT APU_NSE_LENGTH
    ???
    CMP 1F:19B2,Y
    ???
    ???
    ???
    ORA PPU_OAM_ADDR,Y
    ???
    ???
    ???
    DEC 1E:13B3
    ???
    CLD
    ???
    LDA #$02
    JMP $AFCD
    JSR $AF53
    BCC 17:0F3E
    JMP $AF4E
    JSR $AF53
    BCC 17:0F4E
    LDY #$01
    LDA [**:$005E],Y
    PHA
    INY
    LDA [**:$005E],Y
    STA **:$005F
    PLA
    STA **:$005E
    JMP $AD9C
    LDA #$03
    JMP $AFCD
    LDY #$00
    LDA [**:$005E],Y
    AND #$0F
    JSR RTN_UNK_DATA_AFTER
    ???
    ???
    BCS 17:0F10
    CPY 1F:17B0
    BCS 17:0F77
    LDA [ENGINE_FLAG_25_SKIP_UNK],Y
    LDA [ENGINE_FPTR_30+1],Y
    LDA [**:$00BC],Y
    BCS 17:0FBD
    LDA [SAVE_GAME_MOD_PAGE_PTR[2]],Y
    LDA [ARR_BITS_TO_UNK+1],Y
    LDA [FPTR_PACKET_CREATION[2]],Y
    LDA [FPTR_SPRITES?[2]],Y
    LDA [SCRIPT_B800_PTR_UNK[2]],Y
    LDA [R_**:$0094],Y
    LDA [MISC_USE_A],Y
    LDA **:$005F
    PHA
    LDA **:$005E
    PHA
    JSR $AFD3
    JSR $AD9C
    PLA
    STA **:$005E
    PLA
    STA **:$005F
    LDA #$03
    JMP $AFCD
    JSR $AFD3
    JMP $AD9C
    LDY #$00
    LDA [**:$005E],Y
    AND #$0F
    TAX
    LDA #$01
    JSR $AFE1
    TXA
    PHA
    LDA **:$005F
    PHA
    LDA **:$005E
    PHA
    JSR $AD9C
    LDA **:$005E
    STA MISC_USE_A
    LDA **:$005F
    STA MISC_USE_B
    PLA
    STA **:$005E
    PLA
    STA **:$005F
    PLA
    TAX
    DEX
    BNE 17:0FA4
    LDA MISC_USE_A
    STA **:$005E
    LDA MISC_USE_B
    STA **:$005F
    JMP $AD9C
    JSR $AFE1
    JMP $AD9C
    LDY #$01
    LDA [**:$005E],Y
    PHA
    INY
    LDA [**:$005E],Y
    STA **:$005F
    PLA
    STA **:$005E
    RTS
    CLC
    ADC **:$005E
    STA **:$005E
    LDA #$00
    ADC **:$005F
    STA **:$005F
    RTS
    LDY SCRIPT_INDEX_53_UNK
    JMP $B513
    LDY R_**:$0054
    BPL 17:0FF9
    JMP $B555
    LDA #$01
    STA STREAM_REPLACE_COUNT?
    RTS
    LDY R_**:$0054
    BPL 17:1005
    JMP $B5D3
    JMP $B6B2
    LDY R_**:$0054
    BPL 17:100F
    JMP $B67C
    JMP $B6F1
    LDA #$2D
    JSR $A3F8
    JSR $B069
    BCS 17:1021
    LDA #$40
    JSR $A3F8
    RTS
    LDA #$2E
    JSR $A3F8
    JSR $B069
    BCS 17:1031
    LDA #$41
    JSR $A3F8
    RTS
    LDA #$02
    STA STREAM_REPLACE_COUNT?
    RTS
    LDY R_**:$0054
    BPL 17:103E
    JMP $B5DA
    JMP $B6BB
    LDY R_**:$0054
    BPL 17:1048
    JMP $B5E1
    JMP $B6C4
    LDY R_**:$0054
    BPL 17:1052
    JMP $B5E8
    JMP $B6CD
    LDY R_**:$0054
    BPL 17:105C
    JMP $B5EF
    JMP $B6D6
    LDY R_**:$0054
    BPL 17:1066
    JMP $B5F6
    JMP $B6DF
    LDY #$80
    CPY SCRIPT_INDEX_53_UNK
    BEQ 17:1076
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$01
    BNE 17:107F
    TYA
    CLC
    ADC #$20
    TAY
    BNE 17:106B
    CLC
    RTS
    STY R_**:$0054
    JSR $B513
    LDY R_**:$0054
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$FE
    STA STREAM_PTRS_ARR_UNK+6,Y
    LDA #$00
    STA STREAM_PTRS_ARR_UNK+5,Y
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    LDY R_**:$0054
    STA STREAM_INDEXES_ARR_UNK[24],Y
    LDA #$42
    JSR $A3F8
    SEC
    RTS
    LDA #$19
    LDX #$FB
    LDY #$A7
    JSR ENGINE_SCRIPT_LAUNCH_R7_A_PTR_XY
    JMP 1F:15E5
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:10CA
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:10CA
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:10CA
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:10CA
    CLC
    RTS
    SEC
    RTS
    LDA FLAG_UNK_23
    BNE 17:10F3
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$70
    BNE 17:10F3
    LDA STREAM_PTRS_ARR_UNK+6,Y
    BMI 17:10F3
    LDA STREAM_INDEXES_ARR_UNK+11,Y
    STA MISC_USE_A
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+11,Y
    STA MISC_USE_C
    JSR $B1A2
    LDA MISC_USE_A
    CMP MISC_USE_C
    BCS 17:10F5
    CLC
    RTS
    SEC
    RTS
    JSR $BFE2
    BCS 17:1111
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+11,Y
    STA MISC_USE_A
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+11,Y
    STA MISC_USE_C
    JSR $B1A2
    LDA MISC_USE_C
    CMP MISC_USE_A
    RTS
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$80
    EOR #$80
    ROL A
    BCS 17:1124
    JSR ADDS_IDFK
    AND #$80
    ROL A
    RTS
    LDA SCRIPT_INDEX_53_UNK
    BMI 17:112F
    LDA FLAG_UNK_23
    BEQ 17:112F
    CLC
    RTS
    SEC
    RTS
    LDY R_**:$0054
    BMI 17:114C
    LDA STREAM_PTRS_ARR_UNK[48],Y
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,Y
    STA MISC_USE_B
    LDY #$20
    LDA [MISC_USE_A],Y
    CMP #$68
    BEQ 17:114E
    INY
    CPY #$28
    BNE 17:1141
    SEC
    RTS
    CLC
    RTS
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+2,Y
    AND #$80
    BNE 17:1160
    LDA STREAM_INDEXES_ARR_UNK+2,Y
    AND #$01
    BNE 17:1162
    SEC
    RTS
    CLC
    RTS
    JSR ADDS_IDFK
    ASL A
    RTS
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+2,Y
    AND #$80
    EOR #$80
    ROL A
    RTS
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+2,Y
    AND #$04
    EOR #$04
    CMP #$01
    RTS
    LDA MAIN_FLAG_UNK
    BNE 17:1186
    SEC
    RTS
    CLC
    RTS
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    AND #$06
    EOR #$06
    CMP #$01
    RTS
    LDA 56_THING_NAME_SIZE
    CMP #$05
    BEQ 17:11A0
    CMP #$06
    BEQ 17:11A0
    SEC
    RTS
    CLC
    RTS
    LDA #$01
    STA MISC_USE_B
    SEC
    LDA MISC_USE_A
    SBC MISC_USE_C
    STA MISC_USE_A
    LDA MISC_USE_B
    SBC #$00
    LSR A
    ROR MISC_USE_A
    SEC
    LDA MISC_USE_A
    SBC #$66
    BCS 17:11BD
    LDA #$00
    STA MISC_USE_A
    JSR ADDS_IDFK
    STA MISC_USE_C
    RTS
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$40
    EOR #$40
    CMP #$01
    RTS
    LDY SCRIPT_INDEX_53_UNK
    SEC
    LDA STREAM_INDEXES_ARR_UNK+5,Y
    SBC **:$004E
    LDA STREAM_INDEXES_ARR_UNK+6,Y
    SBC **:$004F
    RTS
    RTS
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$08
    BNE 17:11EF
    LDA STREAM_PTRS_ARR_UNK+4,Y
    STA R_**:$0054
    RTS
    JSR ADDS_IDFK
    AND #$E0
    TAY
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:11EF
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    BMI 17:11EF
    STY R_**:$0054
    RTS
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$08
    BEQ 17:1212
    JSR ADDS_IDFK
    AND #$80
    BNE 17:122D
    LDX #$80
    LDA SCRIPT_INDEX_53_UNK
    BPL 17:121A
    LDX #$00
    STX R_**:$0054
    RTS
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$08
    BEQ 17:122D
    JSR ADDS_IDFK
    AND #$80
    BNE 17:1212
    LDX #$00
    LDY SCRIPT_INDEX_53_UNK
    BPL 17:1235
    LDX #$80
    STX R_**:$0054
    RTS
    LDA SCRIPT_INDEX_53_UNK
    STA R_**:$0054
    RTS
    LDX #$00
    LDY SCRIPT_INDEX_53_UNK
    BPL 17:1245
    LDX #$80
    STX R_**:$0054
    RTS
    CLC
    LDA R_**:$0054
    ADC #$20
    STA R_**:$0054
    RTS
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+9,Y
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    LDA STREAM_INDEXES_ARR_UNK+10,Y
    STA SAVE_GAME_MOD_PAGE_PTR+1
    SEC
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+7,Y
    STA ALT_STUFF_INDEX?
    STA ARR_BITS_TO_UNK[8]
    SBC SAVE_GAME_MOD_PAGE_PTR[2]
    LDA STREAM_INDEXES_ARR_UNK+8,Y
    STA ALT_COUNT_UNK
    STA ARR_BITS_TO_UNK+1
    SBC SAVE_GAME_MOD_PAGE_PTR+1
    BCC 17:12A8
    LSR SAVE_GAME_MOD_PAGE_PTR+1
    ROR SAVE_GAME_MOD_PAGE_PTR[2]
    SEC
    LDA ALT_STUFF_INDEX?
    SBC SAVE_GAME_MOD_PAGE_PTR[2]
    STA MISC_USE_A
    LDA ALT_COUNT_UNK
    SBC SAVE_GAME_MOD_PAGE_PTR+1
    STA MISC_USE_B
    LDA 56_THING_NAME_SIZE
    CMP #$01
    BNE 17:1297
    JSR ADDS_IDFK
    AND #$07
    ORA #$04
    STA MISC_USE_A
    LDA #$00
    STA MISC_USE_B
    LDA MISC_USE_A
    ORA MISC_USE_B
    BNE 17:129F
    INC MISC_USE_A
    LDA MISC_USE_A
    STA **:$004E
    LDA MISC_USE_B
    STA **:$004F
    RTS
    ASL ALT_STUFF_INDEX?
    ROL ALT_COUNT_UNK
    CLC
    LDA ALT_STUFF_INDEX?
    ADC ARR_BITS_TO_UNK[8]
    STA ALT_STUFF_INDEX?
    LDA ALT_COUNT_UNK
    ADC ARR_BITS_TO_UNK+1
    STA ALT_COUNT_UNK
    SEC
    LDA ALT_STUFF_INDEX?
    SBC SAVE_GAME_MOD_PAGE_PTR[2]
    STA MISC_USE_A
    LDA ALT_COUNT_UNK
    SBC SAVE_GAME_MOD_PAGE_PTR+1
    STA MISC_USE_B
    BCS 17:12CE
    LDA #$00
    STA MISC_USE_A
    STA MISC_USE_B
    LSR MISC_USE_B
    ROR MISC_USE_A
    LSR MISC_USE_B
    ROR MISC_USE_A
    JMP $B284
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+7,Y
    STA **:$004E
    LDA STREAM_INDEXES_ARR_UNK+8,Y
    STA **:$004F
    LDA 56_THING_NAME_SIZE
    CMP #$01
    BNE 17:12F8
    JSR ADDS_IDFK
    AND #$0F
    ORA #$08
    STA **:$004E
    LDA #$00
    STA **:$004F
    RTS
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    STA **:$004E
    LDA #$00
    STA **:$004F
    RTS
    LDA 56_THING_NAME_SIZE
    CMP #$05
    BNE 17:1318
    LDA 57_INDEX_UNK
    JSR $A3F8
    LDX 57_INDEX_UNK
    INX
    CPX #$9E
    BNE 17:1316
    INC 56_THING_NAME_SIZE
    STX 57_INDEX_UNK
    RTS
    LDA **:$0057
    ORA SAVE_GAME_MOD_PAGE_PTR[2]
    STA **:$0057
    RTS
    LDA #$6A
    JSR $A3F8
    LDA 56_THING_NAME_SIZE
    CMP #$02
    BNE 17:1330
    LDA #$95
    JMP $A3F8
    CMP #$03
    BNE 17:1339
    LDA #$94
    JMP $A3F8
    CMP #$04
    BNE 17:1342
    LDA #$93
    JMP $A3F8
    CMP #$05
    BNE 17:134B
    LDA #$01
    JMP $A3F8
    CMP #$06
    BNE 17:1354
    LDA #$01
    JMP $A3F8
    LDY R_**:$0054
    BMI 17:135D
    LDA #$90
    JMP $A3F8
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+7,Y
    STA **:$0590
    LDA STREAM_INDEXES_ARR_UNK+8,Y
    STA **:$0591
    LDA STREAM_INDEXES_ARR_UNK+9,Y
    STA **:$0592
    LDA STREAM_INDEXES_ARR_UNK+10,Y
    STA **:$0593
    LDA #$24
    JSR $A3F8
    LDA #$25
    JSR $A3F8
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+2,Y
    PHA
    AND #$40
    BEQ 17:1390
    LDA #$6B
    JSR $A3F8
    PLA
    PHA
    AND #$20
    BEQ 17:139B
    LDA #$6C
    JSR $A3F8
    PLA
    PHA
    AND #$10
    BEQ 17:13A6
    LDA #$6D
    JSR $A3F8
    PLA
    PHA
    AND #$80
    BNE 17:13B7
    PLA
    PHA
    AND #$01
    BEQ 17:13B7
    LDA #$6F
    JSR $A3F8
    PLA
    LDA #$FF
    JMP $A3F8
    LDA #$90
    JMP $A3F8
    LDX #$0F
    LDA SCRIPT_INDEX_53_UNK
    BMI 17:13CA
    LDX #$01
    TXA
    JMP 1F:141F
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    STA R_**:$0058
    RTS
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    JMP $A3F8
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    JMP 1F:141F
    TYA
    BMI 17:13F0
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    CMP #$06
    BNE 17:13F0
    LDA #$00
    STA 56_THING_NAME_SIZE
    LDX #$88
    JMP $B40B
    JSR $B4CA
    CMP #$01
    BNE 17:13FC
    LDX #$19
    JMP $B40B
    CMP #$02
    BNE 17:1405
    LDX #$1A
    JMP $B40B
    JSR $B42D
    JMP $B496
    LDA R_**:$0054
    PHA
    LDA SCRIPT_INDEX_53_UNK
    PHA
    LDA **:$005F
    PHA
    LDA **:$005E
    PHA
    STY SCRIPT_INDEX_53_UNK
    TXA
    JSR $AD7B
    PLA
    STA **:$005E
    PLA
    STA **:$005F
    PLA
    STA SCRIPT_INDEX_53_UNK
    PLA
    STA R_**:$0054
    TAY
    JMP $B496
    TYA
    PHA
    LDA #$00
    STA STREAM_INDEXES_ARR_UNK+3,Y
    STA STREAM_INDEXES_ARR_UNK+4,Y
    LDA #$80
    STA STREAM_INDEXES_ARR_UNK+1,Y
    TYA
    BPL 17:148B
    LDA #$00
    STA STREAM_INDEXES_ARR_UNK[24],Y
    LDA STREAM_PTRS_ARR_UNK[48],Y
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,Y
    STA MISC_USE_B
    TYA
    PHA
    CLC
    LDY #$1A
    LDA [MISC_USE_A],Y
    ADC R_**:$0049
    STA R_**:$0049
    INY
    LDA [MISC_USE_A],Y
    ADC R_**:$004A
    STA R_**:$004A
    LDA #$00
    ADC R_**:$004B
    STA R_**:$004B
    CLC
    LDY #$1C
    LDA [MISC_USE_A],Y
    ADC R_**:$004C
    STA R_**:$004C
    INY
    LDA [MISC_USE_A],Y
    ADC R_**:$004D
    STA R_**:$004D
    LDY #$1E
    LDA [MISC_USE_A],Y
    BEQ 17:147E
    STA FLAG_UNK_48
    LDA #$06
    STA R_**:$07F0
    PLA
    TAY
    JSR $B555
    JMP $B490
    LDA #$15
    JSR 1F:141F
    JSR 1F:15E5
    PLA
    TAY
    RTS
    TYA
    PHA
    BMI 17:14A9
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    CMP #$06
    BEQ 17:14C7
    LDA #$10
    JSR $A3F8
    JMP $B4C7
    LDA 56_THING_NAME_SIZE
    CMP #$06
    BEQ 17:14C7
    LDA STREAM_PTRS_ARR_UNK[48],Y
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,Y
    STA MISC_USE_B
    LDY #$0A
    LDA [MISC_USE_A],Y
    AND #$1C
    LSR A
    LSR A
    CLC
    ADC #$79
    JSR $A3F8
    PLA
    TAY
    RTS
    TYA
    PHA
    LDA STREAM_PTRS_ARR_UNK[48],Y
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,Y
    STA MISC_USE_B
    LDY #$08
    LDA [MISC_USE_A],Y
    AND #$1C
    LSR A
    LSR A
    STA MISC_USE_A
    PLA
    TAY
    LDA MISC_USE_A
    RTS
    LDY SCRIPT_INDEX_53_UNK
    CLC
    LDA STREAM_PTRS_ARR_UNK[48],Y
    ADC #$20
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,Y
    ADC #$00
    STA MISC_USE_B
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+16,Y
    TAY
    JSR ENGINE_WRAM_STATE_WRITEABLE
    CPY #$07
    BEQ 17:150C
    INY
    LDA [MISC_USE_A],Y
    DEY
    STA [MISC_USE_A],Y
    INY
    BNE 17:14FF
    LDA #$00
    STA [MISC_USE_A],Y
    JMP ENGINE_WRAM_STATE_WRITE_DISABLED
    JSR $B5BC
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$7F
    STA STREAM_INDEXES_ARR_UNK+1,Y
    LDA #$22
    STA MISC_USE_A
    LDA #$FF
    STA MISC_USE_B
    LDA #$FF
    STA MISC_USE_C
    JSR $B589
    LDA #$00
    STA R_**:$0045
    TYA
    PHA
    LDA STREAM_PTRS_ARR_UNK+2,Y
    AND #$03
    TAX
    LDY #$1F
    LDA [FPTR_5C_UNK[2]],Y
    STA FPTR_SPRITES?[2],X
    PLA
    TAY
    LDA STREAM_PTRS_ARR_UNK+4,Y
    LDX SAVE_GAME_MOD_PAGE_PTR+1
    STA R_**:$0300,X
    LDA #$01
    STA NMI_FLAG_E5_TODO
    JSR ENGINE_NMI_0x01_SET/WAIT
    LDA #$80
    STA NMI_FLAG_E5_TODO
    RTS
    JSR $B5BC
    LDA #$00
    LDX SAVE_GAME_MOD_PAGE_PTR+1
    STA R_**:$0300,X
    LDA #$01
    STA NMI_FLAG_E5_TODO
    JSR ENGINE_NMI_0x01_SET/WAIT
    LDA #$80
    STA NMI_FLAG_E5_TODO
    LDA #$00
    STA STREAM_INDEXES_ARR_UNK[24],Y
    LDA #$00
    STA MISC_USE_A
    LDA #$23
    STA MISC_USE_B
    LDA #$01
    STA MISC_USE_C
    JSR $B589
    LDA STREAM_PTRS_ARR_UNK+2,Y
    AND #$03
    TAX
    LDA #$7C
    STA FPTR_SPRITES?[2],X
    RTS
    TYA
    PHA
    LDA STREAM_PTRS_ARR_UNK+2,Y
    AND #$03
    TAX
    LDY #$1F
    LDA [FPTR_5C_UNK[2]],Y
    ORA #$80
    STA FPTR_SPRITES?[2],X
    PLA
    TAY
    LDA #$80
    STA R_**:$0045
    LDA MISC_USE_A
    STA R_**:$0044
    AND #$01
    BNE 17:15AD
    LDA R_**:$0045
    EOR #$40
    STA R_**:$0045
    JSR ENGINE_NMI_0x01_SET/WAIT
    CLC
    LDA MISC_USE_A
    ADC MISC_USE_C
    STA MISC_USE_A
    CMP MISC_USE_B
    BNE 17:159F
    RTS
    LDA STREAM_PTRS_ARR_UNK[48],Y
    STA FPTR_5C_UNK[2]
    LDA STREAM_PTRS_ARR_UNK+1,Y
    STA FPTR_5C_UNK+1
    LDA STREAM_PTRS_ARR_UNK+2,Y
    AND #$03
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    ASL A
    ASL A
    ASL A
    STA SAVE_GAME_MOD_PAGE_PTR+1
    RTS
    LDA #$0F
    LDX #$03
    JMP $B626
    LDA #$16
    LDX #$03
    JMP $B626
    LDA #$12
    LDX #$03
    JMP $B626
    LDA #$31
    LDX #$03
    JMP $B626
    LDA #$28
    LDX #$03
    JMP $B626
    LDA #$2A
    LDX #$03
    JMP $B626
    LDX #$03
    TXA
    PHA
    LDA #$05
    STA R_**:$07F0
    JSR ADDS_IDFK
    AND #$03
    TAX
    INX
    TXA
    PHA
    LDA #$01
    STA R_**:$07F0
    PLA
    PHA
    LDX #$03
    JSR $B626
    PLA
    TAX
    DEX
    BNE 17:160D
    PLA
    TAX
    DEX
    BNE 17:15FF
    RTS
    STA MISC_USE_B
    STX MISC_USE_A
    LDA #$02
    JSR 1F:141F
    LDY R_**:$0054
    JSR $B5BC
    JSR ENGINE_SETTLE_ALL_UPDATES?
    LDX MISC_USE_A
    TXA
    PHA
    LDX SAVE_GAME_MOD_PAGE_PTR+1
    LDA R_**:$0300,X
    PHA
    LDA #$00
    STA R_**:$0300,X
    LDA #$01
    STA NMI_FLAG_E5_TODO
    JSR ENGINE_NMI_0x01_SET/WAIT
    LDA #$7C
    LDX SAVE_GAME_MOD_PAGE_PTR[2]
    STA FPTR_SPRITES?[2],X
    LDA MISC_USE_B
    JSR L_1F:14B8
    JSR ENGINE_NMI_0x01_SET/WAIT
    PLA
    LDX SAVE_GAME_MOD_PAGE_PTR+1
    STA R_**:$0300,X
    LDA #$01
    STA NMI_FLAG_E5_TODO
    JSR ENGINE_NMI_0x01_SET/WAIT
    LDY #$1F
    LDA [FPTR_5C_UNK[2]],Y
    LDX SAVE_GAME_MOD_PAGE_PTR[2]
    STA FPTR_SPRITES?[2],X
    JSR L_1F:14B6
    JSR ENGINE_NMI_0x01_SET/WAIT
    PLA
    TAX
    DEX
    BNE 17:1639
    RTS
    LDA #$02
    JSR 1F:141F
    JSR $B5BC
    LDY R_**:$0054
    LDA STREAM_PTRS_ARR_UNK+4,Y
    PHA
    LDX SAVE_GAME_MOD_PAGE_PTR+1
    LDA R_**:$0300,X
    LDY R_**:$0054
    STA STREAM_PTRS_ARR_UNK+4,Y
    LDA #$00
    LDX SAVE_GAME_MOD_PAGE_PTR+1
    STA R_**:$0300,X
    LDA #$01
    STA NMI_FLAG_E5_TODO
    JSR ENGINE_NMI_0x01_SET/WAIT
    LDA #$80
    STA NMI_FLAG_E5_TODO
    LDY R_**:$0054
    JSR $B513
    PLA
    LDY R_**:$0054
    STA STREAM_PTRS_ARR_UNK+4,Y
    RTS
    LDX #$41
    LDY #$9F
    LDA #$0F
    JMP $B6FA
    LDX #$41
    LDY #$9F
    LDA #$16
    JMP $B6FA
    LDX #$41
    LDY #$9F
    LDA #$12
    JMP $B6FA
    LDX #$41
    LDY #$9F
    LDA #$31
    JMP $B6FA
    LDX #$41
    LDY #$9F
    LDA #$28
    JMP $B6FA
    LDX #$61
    LDY #$9F
    LDA #$2A
    JMP $B6FA
    LDX #$61
    LDY #$9F
    LDA #$0F
    JMP $B6FA
    LDX #$4B
    LDY #$9F
    LDA #$0F
    JMP $B6FA
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    STX MISC_USE_A
    STY MISC_USE_B
    LDA #$10
    JSR 1F:141F
    JSR ENGINE_SETTLE_ALL_UPDATES?
    LDY #$00
    LDA [MISC_USE_A],Y
    STA MISC_USE_C
    INY
    LDA [MISC_USE_A],Y
    STA ENGINE_TO_DECIMAL_INDEX_POSITION
    CLC
    LDA MISC_USE_A
    ADC #$02
    STA MISC_USE_A
    LDA MISC_USE_B
    ADC #$00
    STA MISC_USE_B
    LDY #$00
    TYA
    PHA
    AND #$02
    BEQ 17:1730
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    JSR L_1F:14B8
    JMP $B733
    JSR L_1F:14B6
    PLA
    TAY
    LDA [MISC_USE_A],Y
    STA NMI_FP_UNK+1
    INY
    LDA [MISC_USE_A],Y
    STA NMI_FP_UNK[2]
    INY
    LDA #$01
    STA NMI_FLAG_E5_TODO
    JSR ENGINE_NMI_0x01_SET/WAIT
    CPY ENGINE_TO_DECIMAL_INDEX_POSITION
    BNE 17:1722
    DEC MISC_USE_C
    BNE 17:1720
    LDA #$00
    STA NMI_FP_UNK[2]
    STA NMI_FP_UNK+1
    JSR ENGINE_NMI_0x01_SET/WAIT
    JMP L_1F:14B6
SUB_UNK: ; 17:175A, 0x02F75A
    LDA STREAM_REPLACE_COUNT?
    CMP #$01
    BEQ EXIT_CS
    CMP #$02
    BEQ EXIT_CS
    LDY #$00
    LDA STREAM_INDEXES_ARR_UNK[24],Y
    BEQ 17:177B
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    AND #$06
    EOR #$06
    BEQ 17:177B
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$E0
    BEQ 17:17B2
    TYA
    CLC
    ADC #$20
    TAY
    BPL 17:1766
    LDA #$80
    STA STREAM_INDEXES_ARR_UNK+1
    STA STREAM_PTRS_ARR_UNK+9
    STA STREAM_PTRS_ARR_UNK+41
    STA **:$0661
    LDA 56_THING_NAME_SIZE
    CMP #$04
    BNE 17:17A7
    LDA #$03
    STA STREAM_REPLACE_COUNT?
    LDA #$04
    JSR 1F:141F
    LDA #$8F
    JSR LIB_EXIT_IDFK
    JMP EXIT_CS ; Goto, RTS CS.
    LDA #$00
    STA SCRIPT_INDEX_53_UNK
    LDA #$0E
    JSR LIB_EXIT_IDFK
EXIT_CS: ; 17:17B0, 0x02F7B0
    SEC
    RTS
    LDA **:$0680
    ORA **:$06A0
    ORA **:$06C0
    ORA **:$06E0
    BNE 17:17F3
    LDA FLAG_UNK_23
    BEQ 17:17C9
    LDA #$31
    JSR $A3F8
    LDA 56_THING_NAME_SIZE
    CMP #$06
    BNE 17:17E7
    LDA #$00
    STA R_**:$0054
    JSR $B8D4
    LDA #$20
    STA R_**:$0054
    JSR $B8D4
    LDA #$40
    STA R_**:$0054
    JSR $B8D4
    JMP $B7F1
    LDA #$05
    JSR LIB_COMPARED_OVERWRITE_IF_MISMATCH
    LDA #$0D
    JSR $A3F8
    SEC
    RTS
    LDA 56_THING_NAME_SIZE
    CMP #$01
    BNE 17:1802
    LDY #$00
    JSR L_1F:1673
    BCS 17:1802
    SEC
    RTS
    CLC
    RTS
    LDY #$01
    LDA [**:$005E],Y
    JSR RTN_UNK_DATA_AFTER
    .db 63
    .db B8
    .db 68
    .db B8
    .db 79
    .db B8
    .db 99
    .db B8
    .db AF
    .db B8
    .db BD
    .db B8
    .db CB
    .db B8
    .db 15
    .db B9
    .db 07
    .db BA
    .db 1B
    .db BA
    .db 2A
    .db BA
    .db 3C
    .db BA
    .db 6E
    .db BA
    .db 7A
    .db BA
    .db 95
    .db BA
    .db AA
    .db B8
    .db F2
    .db B8
    .db 86
    .db BA
    .db 8A
    .db B8
    .db E4
    .db BA
    .db FA
    .db BA
    .db 0D
    .db BB
    .db 25
    .db BB
    .db 3D
    .db BB
    .db 55
    .db BB
    .db 78
    .db BB
    .db 83
    .db BB
    .db 8C
    .db BB
    .db 9D
    .db BB
    .db B0
    .db BB
    .db CD
    .db BB
    .db EB
    .db BB
    .db F9
    .db BB
    .db 02
    .db BC
    .db 0B
    .db BC
    .db 14
    .db BC
    .db 1D
    .db BC
    .db 26
    .db BC
    .db 38
    .db BC
    .db 2F
    .db BC
    .db D0
    .db BC
    .db 2B
    .db BD
    .db 5D
    .db BC
    .db 44
    .db BD
    .db A9
    .db 02
    JMP $AFCD
    JSR $BDDD
    LDX R_**:$0054
    LDY #$03
    JSR $BEF2
    LDX #$0A
    LDA #$3E
    JMP $BD5B
    JSR $BDDD
    LDX R_**:$0054
    LDY #$05
    JSR $BEF2
    LDX #$0A
    LDA #$3D
    JMP $BD5B
    JSR $BDDD
    LDX R_**:$0054
    LDY #$07
    JSR $BDE8
    LDA #$20
    JMP $A3F8
    JSR $BDDD
    LDX R_**:$0054
    LDY #$0C
    JSR $BE3B
    LDX #$09
    LDA #$23
    JMP $BD5B
    LDY SCRIPT_INDEX_53_UNK
    JMP $B42D
    LDX R_**:$0054
    LDY #$07
    JSR $BF00
    LDX #$09
    LDA #$20
    JMP $BD5B
    LDX R_**:$0054
    LDY #$09
    JSR $BF00
    LDX #$09
    LDA #$22
    JMP $BD5B
    LDA #$FF
    STA **:$004E
    STA **:$004F
    JMP $B86B
    LDA #$FF
    STA **:$004E
    STA **:$004F
    LDA #$00
    LDX R_**:$0054
    STA STREAM_INDEXES_ARR_UNK+1,X
    LDY #$03
    JSR $BEF2
    LDX #$0A
    LDA #$00
    JSR $BD5B
    LDX #$14
    JMP ENGINE_WAIT_X_TIMES_UNK
    JSR $BDDD
    LDY SCRIPT_INDEX_53_UNK
    SEC
    LDA STREAM_INDEXES_ARR_UNK+3,Y
    SBC MISC_USE_A
    STA STREAM_INDEXES_ARR_UNK+3,Y
    LDA STREAM_INDEXES_ARR_UNK+4,Y
    SBC MISC_USE_B
    STA STREAM_INDEXES_ARR_UNK+4,Y
    BCC 17:1912
    ORA STREAM_INDEXES_ARR_UNK+3,Y
    BEQ 17:1912
    JMP 1F:15E5
    JMP $B3DD
    LDA 56_THING_NAME_SIZE
    CMP #$05
    BEQ 17:193E
    CMP #$06
    BEQ 17:193E
    JSR $BFE2
    BCC 17:193E
    LDX #$03
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    CMP #$06
    BNE 17:1931
    LDX #$3F
    STX MISC_USE_A
    JSR ADDS_IDFK
    AND MISC_USE_A
    STA **:$004E
    LDA #$00
    STA **:$004F
    LDA R_**:$0054
    PHA
    JSR $BDDD
    LDY R_**:$0054
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$04
    BEQ 17:1962
    LDA MISC_USE_B
    PHA
    LDA MISC_USE_A
    PHA
    LDA #$53
    JSR $A3F8
    PLA
    STA MISC_USE_A
    PLA
    STA MISC_USE_B
    LDY SCRIPT_INDEX_53_UNK
    STY R_**:$0054
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$10
    BEQ 17:196D
    LSR MISC_USE_B
    ROR MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$08
    BEQ 17:1978
    LSR MISC_USE_B
    ROR MISC_USE_A
    JSR $BF74
    LDA MISC_USE_A
    ORA MISC_USE_B
    BNE 17:1983
    INC MISC_USE_A
    LDA MISC_USE_A
    STA **:$0590
    PHA
    LDA MISC_USE_B
    STA **:$0591
    PHA
    LDA #$0C
    JSR $A3F8
    PLA
    STA MISC_USE_B
    PLA
    STA MISC_USE_A
    LDA 56_THING_NAME_SIZE
    CMP #$03
    BEQ 17:19A5
    JSR $BFEF
    BCS 17:19C4
    JSR $BFE2
    BCS 17:19C4
    LDY R_**:$0054
    SEC
    LDA STREAM_INDEXES_ARR_UNK+3,Y
    SBC MISC_USE_A
    STA STREAM_INDEXES_ARR_UNK+3,Y
    LDA STREAM_INDEXES_ARR_UNK+4,Y
    SBC MISC_USE_B
    STA STREAM_INDEXES_ARR_UNK+4,Y
    BCC 17:1A00
    ORA STREAM_INDEXES_ARR_UNK+3,Y
    BEQ 17:1A00
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$0C
    BEQ 17:19DF
    JSR ADDS_IDFK
    AND #$C0
    BNE 17:19DF
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$F3
    STA STREAM_INDEXES_ARR_UNK+1,Y
    LDA #$8D
    JSR $A3F8
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$10
    BEQ 17:19FA
    JSR ADDS_IDFK
    AND #$C0
    BNE 17:19FA
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$EF
    STA STREAM_INDEXES_ARR_UNK+1,Y
    LDA #$61
    JSR $A3F8
    PLA
    STA R_**:$0054
    JMP 1F:15E5
    JSR $B3DD
    PLA
    STA R_**:$0054
    RTS
    JSR $BDDD
    LDY R_**:$0054
    JSR $BF74
    LDX R_**:$0054
    LDY #$09
    JSR $BE72
    LDA #$27
    JMP $A3F8
    JSR $BDDD
    LDX R_**:$0054
    LDY #$0B
    JSR $BEC4
    LDA #$26
    JMP $A3F8
    JSR $BFE2
    BCS 17:1A39
    JSR $BFEF
    BCS 17:1A39
    LDY R_**:$0054
    JMP $B3DD
    JMP $B924
    JSR $BFE2
    BCS 17:1A6B
    JSR $BFEF
    BCS 17:1A6B
    LDY R_**:$0054
    JSR ADDS_IDFK
    AND #$03
    TAX
    INX
    TXA
    SEC
    SBC STREAM_INDEXES_ARR_UNK+3,Y
    LDA #$00
    SBC STREAM_INDEXES_ARR_UNK+4,Y
    BCS 17:1A6B
    TXA
    STA STREAM_INDEXES_ARR_UNK+3,Y
    LDA #$00
    STA STREAM_INDEXES_ARR_UNK+4,Y
    LDX #$00
    LDA #$38
    JMP $BD5B
    JMP $BDD8
    LDX R_**:$0054
    LDY #$07
    JSR $BF15
    LDA #$21
    JMP $A3F8
    LDX R_**:$0054
    LDY #$09
    JSR $BF15
    LDA #$27
    JMP $A3F8
    JSR $BDDD
    LDX SCRIPT_INDEX_53_UNK
    LDY #$07
    JSR $BDE8
    LDA #$5C
    JMP $A3F8
    JSR $BDDD
    LDY R_**:$0054
    BMI 17:1ADD
    LDA STREAM_PTRS_ARR_UNK[48],Y
    STA MISC_USE_C
    LDA STREAM_PTRS_ARR_UNK+1,Y
    STA ENGINE_TO_DECIMAL_INDEX_POSITION
    LDY #$11
    CLC
    LDA [MISC_USE_C],Y
    ADC MISC_USE_A
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    INY
    LDA [MISC_USE_C],Y
    ADC MISC_USE_B
    STA SAVE_GAME_MOD_PAGE_PTR+1
    INY
    LDA [MISC_USE_C],Y
    ADC #$00
    STA ALT_STUFF_INDEX?
    BCC 17:1AC7
    LDA #$FF
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    STA SAVE_GAME_MOD_PAGE_PTR+1
    STA ALT_STUFF_INDEX?
    JSR ENGINE_WRAM_STATE_WRITEABLE
    LDY #$11
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    STA [MISC_USE_C],Y
    INY
    LDA SAVE_GAME_MOD_PAGE_PTR+1
    STA [MISC_USE_C],Y
    INY
    LDA ALT_STUFF_INDEX?
    STA [MISC_USE_C],Y
    JSR ENGINE_WRAM_STATE_WRITE_DISABLED
    LDX #$0A
    LDA #$2F
    JMP $BD5B
    JSR $BFE2
    BCS 17:1AF7
    JSR $BF58
    BCS 17:1AF7
    LDA #$1B
    LDY #$00
    LDX #$80
    JMP $BD7F
    JMP $BDD8
    JSR $BFE2
    BCS 17:1AF7
    JSR $BF58
    BCS 17:1AF7
    LDA #$4B
    LDY #$00
    LDX #$02
    JMP $BD69
    JSR $BFE2
    BCS 17:1AF7
    JSR $BFEF
    BCS 17:1AF7
    JSR $BF66
    BCS 17:1AF7
    LDA #$39
    LDY #$00
    LDX #$08
    JMP $BD69
    JSR $BFE2
    BCS 17:1AF7
    JSR $BFEF
    BCS 17:1AF7
    JSR $BF66
    BCS 17:1AF7
    LDA #$3B
    LDY #$00
    LDX #$10
    JMP $BD69
    JSR $BFE2
    BCS 17:1AF7
    JSR $BFEF
    BCS 17:1AF7
    JSR $BF58
    BCS 17:1AF7
    LDA #$49
    LDY #$00
    LDX #$20
    JMP $BD69
    JSR $BFE2
    BCS 17:1AF7
    LDY R_**:$0054
    LDA STREAM_PTRS_ARR_UNK[48],Y
    STA MISC_USE_A
    LDA STREAM_PTRS_ARR_UNK+1,Y
    STA MISC_USE_B
    LDY #$05
    LDA [MISC_USE_A],Y
    INY
    ORA [MISC_USE_A],Y
    BEQ 17:1AF7
    LDA #$4D
    LDY #$00
    LDX #$40
    JMP $BD7F
    LDY R_**:$0054
    LDA STREAM_PTRS_ARR_UNK+6,Y
    ORA #$08
    STA STREAM_PTRS_ARR_UNK+6,Y
    RTS
    LDA #$4F
    LDY #$0A
    LDX #$10
    JMP $BD7F
    JSR $BFE6
    BCS 17:1B9A
    LDA #$17
    LDY #$0A
    LDX #$04
    JMP $BD7F
    JMP $BDD8
    JSR $BFE2
    BCS 17:1B9A
    JSR $BFEF
    BCS 17:1B9A
    LDA #$4E
    LDY #$00
    LDX #$20
    JMP $BD7F
    JSR $BFE2
    BCS 17:1B9A
    JSR $BFEF
    BCS 17:1B9A
    LDA #$19
    LDY #$00
    LDX #$40
    JSR $BD69
    BCS 17:1BCC
    LDX R_**:$0054
    LDY #$09
    JSR $BF00
    RTS
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    CMP #$01
    BNE 17:1BEA
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND #$02
    BNE 17:1BEA
    LDA STREAM_PTRS_ARR_UNK+6,Y
    ORA #$02
    STA STREAM_PTRS_ARR_UNK+6,Y
    LDA #$74
    JMP $A3F8
    RTS
    JSR $BF66
    BCS 17:1B9A
    LDA #$67
    LDY #$00
    LDX #$04
    JMP $BD69
    LDA #$5D
    LDY #$0A
    LDX #$02
    JMP $BD95
    LDA #$61
    LDY #$0A
    LDX #$10
    JMP $BD95
    LDA #$60
    LDY #$0A
    LDX #$20
    JMP $BD95
    LDA #$70
    LDY #$0A
    LDX #$02
    JMP $BDAB
    LDA #$5E
    LDY #$0A
    LDX #$0C
    JMP $BD95
    LDA #$69
    LDY #$02
    LDX #$10
    JMP $BDAB
    LDA #$71
    LDY #$0A
    LDX #$40
    JMP $BD95
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$80
    BEQ 17:1C5A
    LDA #$00
    STA STREAM_INDEXES_ARR_UNK+1,Y
    LDA #$FF
    STA **:$004E
    STA **:$004F
    LDX R_**:$0054
    LDY #$03
    JSR $BEF2
    LDX #$0A
    LDA #$62
    JMP $BD5B
    JMP $BDD8
    LDX 56_THING_NAME_SIZE
    CPX #$06
    BEQ 17:1C85
    LDA #$19
    JSR LIB_COMPARED_OVERWRITE_IF_MISMATCH
    LDA VAL_CMP_UNK
    PHA
    LDX #$00
    JSR 1F:126B
    LDA #$03
    STA R_**:$07F0
    LDX #$38
    JSR ENGINE_WAIT_X_TIMES_UNK
    PLA
    CMP VAL_CMP_UNK
    BEQ 17:1C84
    STA VAL_CMP_DIFFERS_STORED_UNK
    RTS
    LDA #$19
    JSR LIB_COMPARED_OVERWRITE_IF_MISMATCH
    SEC
    LDA 57_INDEX_UNK
    SBC #$9E
    TAX
    JSR 1F:126B
    LDA #$03
    STA R_**:$07F0
    JSR $B6E8
    LDA 57_INDEX_UNK
    JSR $A3F8
    LDA #$2C
    JSR LIB_COMPARED_OVERWRITE_IF_MISMATCH
    LDX 57_INDEX_UNK
    INX
    CPX #$A9
    BEQ 17:1CAF
    STX 57_INDEX_UNK
    RTS
    JSR $B5FD
    LDA #$FF
    JSR LIB_COMPARED_OVERWRITE_IF_MISMATCH
    LDX #$C8
    JSR ENGINE_WAIT_X_TIMES_UNK
    LDX #$A9
    STX 57_INDEX_UNK
    TXA
    JSR $A3F8
    LDX 57_INDEX_UNK
    INX
    CPX #$AC
    BNE 17:1CBE
    LDY #$80
    JMP $B3DD
    LDX #$0A
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+5,Y
    ORA STREAM_INDEXES_ARR_UNK+6,Y
    BEQ 17:1D28
    SEC
    LDA STREAM_INDEXES_ARR_UNK+5,Y
    TAX
    SBC #$0A
    LDA STREAM_INDEXES_ARR_UNK+6,Y
    SBC #$00
    BCC 17:1CEC
    LDX #$0A
    STX **:$0590
    LDX #$00
    STX **:$0591
    SEC
    LDA STREAM_INDEXES_ARR_UNK+5,Y
    SBC **:$0590
    STA STREAM_INDEXES_ARR_UNK+5,Y
    LDA STREAM_INDEXES_ARR_UNK+6,Y
    SBC **:$0591
    STA STREAM_INDEXES_ARR_UNK+6,Y
    LDA #$48
    JSR $A3F8
    LDA **:$0590
    STA MISC_USE_A
    LDA **:$0591
    STA MISC_USE_B
    LDX SCRIPT_INDEX_53_UNK
    LDY #$05
    JSR $BEF2
    LDA SCRIPT_INDEX_53_UNK
    STA R_**:$0054
    LDX #$0A
    LDA #$3D
    JMP $BD5B
    JMP $BDD8
    LDY R_**:$0054
    BMI 17:1D3F
    JSR $BFAA
    BCS 17:1D3F
    JSR $B4FC
    JSR $AACC
    LDA #$81
    JMP $A3F8
    LDA #$59
    JMP $A3F8
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND #$08
    BNE 17:1D5A
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    ORA #$08
    STA STREAM_INDEXES_ARR_UNK+1,Y
    LDA #$39
    JSR $A3F8
    RTS
    PHA
    TXA
    BEQ 17:1D62
    JSR 1F:141F
    JSR 1F:15E5
    PLA
    JMP $A3F8
    PHA
    JSR $BDCC
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND MISC_USE_A
    BNE 17:1DC6
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    ORA MISC_USE_A
    STA STREAM_INDEXES_ARR_UNK+1,Y
    JMP $BDBE
    PHA
    JSR $BDCC
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND MISC_USE_A
    BNE 17:1DC6
    LDA STREAM_PTRS_ARR_UNK+6,Y
    ORA MISC_USE_A
    STA STREAM_PTRS_ARR_UNK+6,Y
    JMP $BDBE
    PHA
    JSR $BDCC
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND MISC_USE_A
    BEQ 17:1DC6
    LDA STREAM_INDEXES_ARR_UNK+1,Y
    AND MISC_USE_B
    STA STREAM_INDEXES_ARR_UNK+1,Y
    JMP $BDBE
    PHA
    JSR $BDCC
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND MISC_USE_A
    BEQ 17:1DC6
    LDA STREAM_PTRS_ARR_UNK+6,Y
    AND MISC_USE_B
    STA STREAM_PTRS_ARR_UNK+6,Y
    LDX R_**:$0058
    PLA
    JSR $BD5B
    CLC
    RTS
    PLA
    JSR $BDD8
    SEC
    RTS
    STX MISC_USE_A
    TXA
    EOR #$FF
    STA MISC_USE_B
    STY R_**:$0058
    LDY R_**:$0054
    RTS
    LDA #$55
    JMP $A3F8
    LDA **:$004E
    STA MISC_USE_A
    LDA **:$004F
    STA MISC_USE_B
    JMP L_1F:12ED
    JSR $BF2C
    CLC
    LDA STREAM_INDEXES_ARR_UNK[24],X
    ADC MISC_USE_A
    STA ALT_STUFF_INDEX?
    LDA STREAM_INDEXES_ARR_UNK+1,X
    ADC MISC_USE_B
    STA ALT_COUNT_UNK
    BCC 17:1E02
    LDA #$FF
    STA ALT_STUFF_INDEX?
    STA ALT_COUNT_UNK
    SEC
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    SBC ALT_STUFF_INDEX?
    LDA SAVE_GAME_MOD_PAGE_PTR+1
    SBC ALT_COUNT_UNK
    BCS 17:1E15
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    STA ALT_STUFF_INDEX?
    LDA SAVE_GAME_MOD_PAGE_PTR+1
    STA ALT_COUNT_UNK
    SEC
    LDA ALT_STUFF_INDEX?
    SBC STREAM_INDEXES_ARR_UNK[24],X
    STA **:$0590
    LDA ALT_COUNT_UNK
    SBC STREAM_INDEXES_ARR_UNK+1,X
    STA **:$0591
    BCC 17:1E38
    ORA **:$0590
    BEQ 17:1E38
    LDA ALT_STUFF_INDEX?
    STA STREAM_INDEXES_ARR_UNK[24],X
    LDA ALT_COUNT_UNK
    STA STREAM_INDEXES_ARR_UNK+1,X
    RTS
    JMP $BFD8
    JSR $BF2C
    CLC
    LDA STREAM_INDEXES_ARR_UNK[24],X
    ADC MISC_USE_A
    STA ALT_STUFF_INDEX?
    BCC 17:1E4C
    LDA #$FF
    STA ALT_STUFF_INDEX?
    SEC
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    SBC ALT_STUFF_INDEX?
    BCS 17:1E57
    LDA SAVE_GAME_MOD_PAGE_PTR[2]
    STA ALT_STUFF_INDEX?
    LDA #$00
    STA **:$0591
    SEC
    LDA ALT_STUFF_INDEX?
    SBC STREAM_INDEXES_ARR_UNK[24],X
    STA **:$0590
    BCC 17:1E6F
    BEQ 17:1E6F
    LDA ALT_STUFF_INDEX?
    STA STREAM_INDEXES_ARR_UNK[24],X
    RTS
    JMP $BFD8
    JSR $BF2C
    SEC
    LDA STREAM_INDEXES_ARR_UNK[24],X
    SBC MISC_USE_A
    STA ALT_STUFF_INDEX?
    LDA STREAM_INDEXES_ARR_UNK+1,X
    SBC MISC_USE_B
    STA ALT_COUNT_UNK
    BCS 17:1E8C
    LDA #$00
    STA ALT_STUFF_INDEX?
    STA ALT_COUNT_UNK
    CPY #$03
    BEQ 17:1E9E
    CPY #$05
    BEQ 17:1E9E
    LDA ALT_STUFF_INDEX?
    ORA ALT_COUNT_UNK
    BNE 17:1E9E
    LDA #$01
    STA ALT_STUFF_INDEX?
    SEC
    LDA STREAM_INDEXES_ARR_UNK[24],X
    SBC ALT_STUFF_INDEX?
    STA **:$0590
    LDA STREAM_INDEXES_ARR_UNK+1,X
    SBC ALT_COUNT_UNK
    STA **:$0591
    BCC 17:1EC1
    ORA **:$0590
    BEQ 17:1EC1
    LDA ALT_STUFF_INDEX?
    STA STREAM_INDEXES_ARR_UNK[24],X
    LDA ALT_COUNT_UNK
    STA STREAM_INDEXES_ARR_UNK+1,X
    RTS
    JMP $BFD8
    JSR $BF2C
    SEC
    LDA STREAM_INDEXES_ARR_UNK[24],X
    SBC MISC_USE_A
    STA ALT_STUFF_INDEX?
    BEQ 17:1ED3
    BCS 17:1ED7
    LDA #$01
    STA ALT_STUFF_INDEX?
    LDA #$00
    STA **:$0591
    SEC
    LDA STREAM_INDEXES_ARR_UNK[24],X
    SBC ALT_STUFF_INDEX?
    STA **:$0590
    BEQ 17:1EEF
    BCC 17:1EEF
    LDA ALT_STUFF_INDEX?
    STA STREAM_INDEXES_ARR_UNK[24],X
    RTS
    JMP $BFD8
    JSR $BF2C
    LDA MISC_USE_C
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    LDA ENGINE_TO_DECIMAL_INDEX_POSITION
    STA SAVE_GAME_MOD_PAGE_PTR+1
    JMP $BDEB
    TXA
    PHA
    JSR $BF2C
    PLA
    TAX
    LDA MISC_USE_C
    STA MISC_USE_A
    LDA ENGINE_TO_DECIMAL_INDEX_POSITION
    STA MISC_USE_B
    JSR L_1F:12ED
    JMP $BDE8
    TXA
    PHA
    JSR $BF2C
    PLA
    TAX
    LDA ENGINE_TO_DECIMAL_INDEX_POSITION
    LSR A
    STA MISC_USE_B
    LDA MISC_USE_C
    ROR A
    STA MISC_USE_A
    JSR L_1F:12ED
    JMP $BE72
    LDA STREAM_PTRS_ARR_UNK[48],X
    STA ALT_STUFF_INDEX?
    LDA STREAM_PTRS_ARR_UNK+1,X
    STA ALT_COUNT_UNK
    LDA [ALT_STUFF_INDEX?],Y
    STA MISC_USE_C
    ASL A
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    INY
    LDA [ALT_STUFF_INDEX?],Y
    AND #$03
    STA ENGINE_TO_DECIMAL_INDEX_POSITION
    ROL A
    STA SAVE_GAME_MOD_PAGE_PTR+1
    BCC 17:1F4F
    LDA #$FF
    STA SAVE_GAME_MOD_PAGE_PTR[2]
    STA SAVE_GAME_MOD_PAGE_PTR+1
    DEY
    STX ARR_BITS_TO_UNK[8]
    TYA
    CLC
    ADC ARR_BITS_TO_UNK[8]
    TAX
    RTS
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+13,Y
    TAX
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+14,Y
    JMP $BF8C
    LDY SCRIPT_INDEX_53_UNK
    LDA STREAM_INDEXES_ARR_UNK+13,Y
    TAX
    LDY R_**:$0054
    LDA STREAM_INDEXES_ARR_UNK+15,Y
    JMP $BF8C
    LDA STREAM_INDEXES_ARR_UNK+2,Y
    AND **:$0057
    BEQ 17:1F87
    LSR MISC_USE_B
    ROR MISC_USE_A
    LDA MISC_USE_A
    ORA MISC_USE_B
    BNE 17:1F87
    INC MISC_USE_A
    LDA #$00
    STA **:$0057
    RTS
    LSR A
    STA MISC_USE_A
    STX SAVE_GAME_MOD_PAGE_PTR[2]
    TXA
    SEC
    SBC MISC_USE_A
    BCS 17:1F99
    LDA #$00
    STA MISC_USE_B
    LDA #$00
    STA MISC_USE_A
    STA MISC_USE_C
    JSR ENGINE_NUMS_UNK_MODULO?
    JSR ADDS_IDFK
    CMP MISC_USE_A
    RTS
    JSR $AABC
    LDY #$00
    TYA
    PHA
    LDA [MISC_USE_A],Y
    BEQ 17:1FCB
    JSR $AAA4
    JSR ENGINE_SET_MAPPER_R6_TO_0x00
    LDY #$05
    LDA [MISC_USE_C],Y
    TAX
    LDY #$02
    LDA [MISC_USE_C],Y
    JSR ENGINE_SET_MAPPER_R6_TO_0x16
    AND #$40
    BNE 17:1FD4
    PLA
    TAY
    INY
    CPY #$08
    BNE 17:1FAF
    SEC
    RTS
    PLA
    TAY
    CLC
    RTS
    LDA #$00
    STA **:$0590
    STA **:$0591
    CLC
    RTS
    LDA R_**:$0054
    BPL 17:1FEB
    LDA 56_THING_NAME_SIZE
    LSR A
    BNE 17:1FED
    CLC
    RTS
    SEC
    RTS
    LDY R_**:$0054
    BMI 17:1FFC
    LDA STREAM_INDEXES_ARR_UNK+17,Y
    CMP #$06
    BNE 17:1FFC
    SEC
    RTS
    CLC
    RTS
    .db FF
    .db FF
